{
  "version": 3,
  "sources": ["../../node_modules/react/cjs/react-jsx-runtime.production.min.js", "../../node_modules/react/jsx-runtime.js", "../../public-exports/blog.tsx", "../../node_modules/sanity/lib/esm/components/DefaultDocument.js", "../../node_modules/sanity/lib/esm/components/Favicons.js", "../../node_modules/sanity/lib/esm/components/globalErrorHandler/GlobalErrorHandler.js", "../../node_modules/sanity/lib/esm/components/NoJavascript.js", "../../node_modules/sanity/lib/esm/theme/index.js", "../../node_modules/sanity/lib/esm/desk/deskTool.js", "../../node_modules/sanity/lib/esm/desk/router.js", "../../node_modules/react-photo-album/dist/index.esm.js", "../../node_modules/react-infinite-scroll-component/node_modules/tslib/tslib.es6.js", "../../node_modules/react-infinite-scroll-component/node_modules/throttle-debounce/dist/index.esm.js", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/index.ts", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/components/UnsplashAssetSource.tsx", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/components/Photo.tsx", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/components/Photo.styled.tsx", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/datastores/unsplash.ts", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/components/UnsplashAssetSource.styled.tsx", "../../node_modules/sanity-plugin-asset-source-unsplash/lib/src/components/Icon.tsx", "../../parts/blog/schemas/author.ts", "../../parts/blog/schemas/blockContent.ts", "../../parts/blog/schemas/category.ts", "../../parts/blog/schemas/post.ts", "../../parts/blog/schemas/index.ts", "../../parts/blog/index.ts"],
  "sourcesContent": ["/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n", "import { createHashHistory } from 'history'\nimport { createElement } from 'react'\nimport { render } from 'react-dom'\nimport { Studio } from 'sanity'\n\nimport createConfig, { type Config } from '../parts/blog'\n\nexport function createStudio(rootElement: HTMLElement, config: Config) {\n  if (!rootElement) {\n    throw new Error('Missing root element to mount application into')\n  }\n\n  return render(\n    createElement(Studio, {\n      config: createConfig(config),\n      unstable_history: createHashHistory(),\n      unstable_noAuthBoundary: true,\n    }),\n    rootElement\n  )\n}\n", "import React from 'react';\nimport { Favicons } from './Favicons';\nimport { GlobalErrorHandler } from './globalErrorHandler';\nimport { NoJavascript } from './NoJavascript';\nconst globalStyles = \"\\n  html {\\n    background-color: #f1f3f6;\\n  }\\n  html,\\n  body,\\n  #sanity {\\n    height: 100%;\\n  }\\n  body {\\n    margin: 0;\\n    -webkit-font-smoothing: antialiased;\\n  }\\n\";\nconst EMPTY_ARRAY = [];\nexport function DefaultDocument(props) {\n  const {\n    entryPath,\n    css = EMPTY_ARRAY,\n    basePath = '/'\n  } = props;\n  return /*#__PURE__*/React.createElement(\"html\", {\n    lang: \"en\"\n  }, /*#__PURE__*/React.createElement(\"head\", null, /*#__PURE__*/React.createElement(\"meta\", {\n    charSet: \"utf-8\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1, viewport-fit=cover\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"robots\",\n    content: \"noindex\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"referrer\",\n    content: \"same-origin\"\n  }), /*#__PURE__*/React.createElement(Favicons, {\n    basePath: basePath\n  }), /*#__PURE__*/React.createElement(\"title\", null, \"Sanity Studio\"), /*#__PURE__*/React.createElement(GlobalErrorHandler, null), css.map(href => /*#__PURE__*/React.createElement(\"link\", {\n    key: href,\n    rel: \"stylesheet\",\n    href: href\n  })), /*#__PURE__*/React.createElement(\"style\", null, globalStyles)), /*#__PURE__*/React.createElement(\"body\", null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"sanity\"\n  }), /*#__PURE__*/React.createElement(\"script\", {\n    type: \"module\",\n    src: entryPath\n  }), /*#__PURE__*/React.createElement(NoJavascript, null)));\n}", "import React from 'react';\nexport function Favicons(_ref) {\n  let {\n    basePath\n  } = _ref;\n  const base = \"\".concat(basePath.replace(/\\/+$/, ''), \"/static\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"icon\",\n    href: \"\".concat(base, \"/favicon.ico\"),\n    sizes: \"any\"\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"icon\",\n    href: \"\".concat(base, \"/favicon.svg\"),\n    type: \"image/svg+xml\"\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"apple-touch-icon\",\n    href: \"\".concat(base, \"/apple-touch-icon.png\")\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"manifest\",\n    href: \"\".concat(base, \"/manifest.webmanifest\")\n  }));\n}", "import React from 'react';\nconst errorHandlerScript = \"\\n;(function () {\\n  var _caughtErrors = []\\n\\n  var errorChannel = (function () {\\n    var subscribers = []\\n\\n    function publish(msg) {\\n      for (var i = 0; i < subscribers.length; i += 1) {\\n        subscribers[i](msg)\\n      }\\n    }\\n\\n    function subscribe(subscriber) {\\n      subscribers.push(subscriber)\\n\\n      return function () {\\n        var idx = subscribers.indexOf(subscriber)\\n\\n        if (idx > -1) {\\n          subscribers.splice(idx, 1)\\n        }\\n      }\\n    }\\n\\n    return {publish, subscribe, subscribers}\\n  })()\\n\\n  // NOTE: Store the error channel instance in the global scope so that the Studio application can\\n  // access it and subscribe to errors.\\n  window.__sanityErrorChannel = {\\n    subscribe: errorChannel.subscribe,\\n  }\\n\\n  function _nextTick(callback) {\\n    setTimeout(callback, 0)\\n  }\\n\\n  function _handleError(error, params) {\\n    _nextTick(function () {\\n      // - If there are error channel subscribers, then we notify them (no console error).\\n      // - If there are no subscribers, then we log the error to the console and render the error overlay.\\n      if (errorChannel.subscribers.length) {\\n        errorChannel.publish({error, params})\\n      } else {\\n        console.error(error)\\n\\n        _renderErrorOverlay(error, params)\\n      }\\n    })\\n  }\\n\\n  var ERROR_BOX_STYLE = [\\n    'background: #fff',\\n    'border-radius: 6px',\\n    'box-sizing: border-box',\\n    'color: #121923',\\n    'flex: 1',\\n    \\\"font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue','Liberation Sans',Helvetica,Arial,system-ui,sans-serif\\\",\\n    'font-size: 16px',\\n    'line-height: 21px',\\n    'margin: 0 auto',\\n    'max-width: 960px',\\n    'overflow: auto',\\n    'padding: 20px',\\n    'width: 100%',\\n  ].join(';')\\n\\n  var ERROR_CODE_STYLE = [\\n    'color: #972E2A',\\n    \\\"font-family: -apple-system-ui-monospace, 'SF Mono', Menlo, Monaco, Consolas, monospace\\\",\\n    'font-size: 13px',\\n    'line-height: 17px',\\n    'margin: 0',\\n  ].join(';')\\n\\n  function _renderErrorOverlay(error, params) {\\n    var errorElement = document.querySelector('#__sanityError') || document.createElement('div')\\n    var colno = params.event.colno\\n    var lineno = params.event.lineno\\n    var filename = params.event.filename\\n\\n    errorElement.id = '__sanityError'\\n    errorElement.innerHTML = [\\n      '<div style=\\\"' + ERROR_BOX_STYLE + '\\\">',\\n      '<div style=\\\"font-weight: 700;\\\">Uncaught error: ' + error.message + '</div>',\\n      '<div style=\\\"color: #515E72; font-size: 13px; line-height: 17px; margin: 10px 0;\\\">' +\\n        filename +\\n        ':' +\\n        lineno +\\n        ':' +\\n        colno +\\n        '</div>',\\n      '<pre style=\\\"' + ERROR_CODE_STYLE + '\\\">' + error.stack + '</pre>',\\n      '</div>',\\n    ].join('')\\n\\n    errorElement.style.position = 'fixed'\\n    errorElement.style.zIndex = 1000000\\n    errorElement.style.top = 0\\n    errorElement.style.left = 0\\n    errorElement.style.right = 0\\n    errorElement.style.bottom = 0\\n    errorElement.style.padding = '20px'\\n    errorElement.style.background = 'rgba(16,17,18,0.66)'\\n    errorElement.style.display = 'flex'\\n    errorElement.style.alignItems = 'center'\\n    errorElement.style.justifyContent = 'center'\\n\\n    document.body.appendChild(errorElement)\\n  }\\n\\n  // NOTE:\\n  // Yes \\u2013 we're attaching 2 error listeners below \\uD83D\\uDC40\\n  // This is because React makes the same error throw twice (in development mode).\\n  // See: https://github.com/facebook/react/issues/10384\\n\\n  // Error listener #1\\n  window.onerror = function (event, source, lineno, colno, error) {\\n    _nextTick(function () {\\n      if (_caughtErrors.indexOf(error) !== -1) return\\n\\n      _caughtErrors.push(error)\\n\\n      _handleError(error, {\\n        event,\\n        lineno,\\n        colno,\\n        source,\\n      })\\n\\n      _nextTick(function () {\\n        var idx = _caughtErrors.indexOf(error)\\n\\n        if (idx > -1) _caughtErrors.splice(idx, 1)\\n      })\\n    })\\n\\n    // IMPORTANT: this callback must return `true` to prevent the error from being rendered in\\n    // the browser\\u2019s console.\\n    return true\\n  }\\n\\n  // Error listener #2\\n  window.addEventListener('error', function (event) {\\n    if (_caughtErrors.indexOf(event.error) !== -1) return true\\n\\n    _caughtErrors.push(event.error)\\n\\n    _handleError(event.error, {\\n      event,\\n      lineno: event.lineno,\\n      colno: event.colno,\\n    })\\n\\n    _nextTick(function () {\\n      _nextTick(function () {\\n        var idx = _caughtErrors.indexOf(event.error)\\n\\n        if (idx > -1) _caughtErrors.splice(idx, 1)\\n      })\\n    })\\n\\n    return true\\n  })\\n})()\\n\";\nexport function GlobalErrorHandler() {\n  // eslint-disable-next-line react/no-danger\n  return /*#__PURE__*/React.createElement(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: errorHandlerScript\n    }\n  });\n}", "import React from 'react';\nconst NoJsStyles = \"\\n.sanity-app-no-js__root {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  background: #fff;\\n}\\n\\n.sanity-app-no-js__content {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  text-align: center;\\n  font-family: helvetica, arial, sans-serif;\\n}\\n\";\nexport function NoJavascript() {\n  return /*#__PURE__*/React.createElement(\"noscript\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sanity-app-no-js__root\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sanity-app-no-js__content\"\n  }, /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, NoJsStyles), /*#__PURE__*/React.createElement(\"h1\", null, \"JavaScript disabled\"), /*#__PURE__*/React.createElement(\"p\", null, \"Please \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.enable-javascript.com/\"\n  }, \"enable JavaScript\"), \" in your browser and reload the page to proceed.\"))));\n}", "import { studioTheme } from '@sanity/ui';\nexport * from './types';\nexport const defaultTheme = { ...studioTheme,\n  focusRing: {\n    offset: -1,\n    width: 2\n  }\n};", "import { MasterDetailIcon } from '@sanity/icons';\nimport { lazy } from 'react';\nimport { createPlugin } from '../config';\nimport { getIntentState } from './getIntentState';\nimport { router } from './router';\nexport const deskTool = createPlugin(options => ({\n  name: '@sanity/desk-tool',\n  tools: [{\n    name: (options === null || options === void 0 ? void 0 : options.name) || 'desk',\n    title: (options === null || options === void 0 ? void 0 : options.title) || 'Desk',\n    icon: (options === null || options === void 0 ? void 0 : options.icon) || MasterDetailIcon,\n    component: /*#__PURE__*/lazy(() => import('./components/deskTool')),\n    canHandleIntent: (intent, params) => {\n      return Boolean(intent === 'edit' && params.id || intent === 'create' && params.type || intent === 'create' && params.template);\n    },\n    getIntentState,\n    options,\n    router\n  }]\n}));", "import _omit from \"lodash/omit\";\nimport { route } from '../router';\nconst EMPTY_PARAMS = {};\n/**\n * @internal\n */\n\nexport function legacyEditParamsToState(params) {\n  try {\n    return JSON.parse(decodeURIComponent(params));\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn('Failed to parse JSON parameters');\n    return {};\n  }\n}\nexport function encodePanesSegment(panes) {\n  return (panes || []).map(group => group.map(encodeChunks).join('|')).map(encodeURIComponent).join(';');\n}\n/**\n * @internal\n */\n\nexport function legacyEditParamsToPath(params) {\n  return JSON.stringify(params);\n} // http://localhost:3333/intent/create/template=book-by-author;type=book/eyJhdXRob3JJZCI6Imdycm0ifQ==\n\n/**\n * @internal\n */\n\nexport function toState(pathSegment) {\n  return parsePanesSegment(decodeURIComponent(pathSegment));\n}\n/**\n * @internal\n */\n\nexport function toPath(panes) {\n  return encodePanesSegment(panes);\n}\nexport const router = route.create('/', [// \"Asynchronous intent resolving\" route\nroute.intents('/intent'), // Legacy fallback route, will be redirected to new format\nroute.create('/edit/:type/:editDocumentId', [route.create({\n  path: '/:params',\n  transform: {\n    params: {\n      toState: legacyEditParamsToState,\n      toPath: legacyEditParamsToPath\n    }\n  }\n})]), // The regular path - when the intent can be resolved to a specific pane\nroute.create({\n  path: '/:panes',\n  // Legacy URLs, used to handle redirects\n  children: [route.create('/:action', route.create('/:legacyEditDocumentId'))],\n  transform: {\n    panes: {\n      toState,\n      toPath\n    }\n  }\n})]); // old: authors;knut,{\"template\":\"diaryEntry\"}\n// new: authors;knut,view=diff,eyJyZXYxIjoiYWJjMTIzIiwicmV2MiI6ImRlZjQ1NiJ9|latest-posts\n\nconst panePattern = /^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i;\n\nconst isParam = str => /^[a-z0-9]+=[^=]+/i.test(str);\n\nconst isPayload = str => /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(str);\n\nconst exclusiveParams = ['view', 'since', 'rev'];\nconst isTruthy = Boolean;\n\nfunction parseChunks(chunks, initial) {\n  return chunks.reduce((pane, chunk) => {\n    if (isParam(chunk)) {\n      const key = chunk.slice(0, chunk.indexOf('='));\n      const value = chunk.slice(key.length + 1);\n      pane.params = { ...pane.params,\n        [decodeURIComponent(key)]: decodeURIComponent(value)\n      };\n    } else if (isPayload(chunk)) {\n      pane.payload = tryParseBase64Payload(chunk);\n    } else {\n      // eslint-disable-next-line no-console\n      console.warn('Unknown pane segment: %s - skipping', chunk);\n    }\n\n    return pane;\n  }, { ...initial,\n    params: EMPTY_PARAMS,\n    payload: undefined\n  });\n}\n\nfunction encodeChunks(pane, index, group) {\n  const {\n    payload,\n    params = {},\n    id\n  } = pane;\n  const [firstSibling] = group;\n  const paneIsFirstSibling = pane === firstSibling;\n  const sameAsFirst = index !== 0 && id === firstSibling.id;\n  const encodedPayload = typeof payload === 'undefined' ? undefined : btoa(JSON.stringify(payload));\n  const encodedParams = Object.entries(params).filter(entry => {\n    var _firstSibling$params;\n\n    const [key, value] = entry;\n    if (!value) return false;\n    if (paneIsFirstSibling) return true; // omit the value if it's the same as the value from the first sibling\n\n    const valueFromFirstSibling = (_firstSibling$params = firstSibling.params) === null || _firstSibling$params === void 0 ? void 0 : _firstSibling$params[key];\n    if (value === valueFromFirstSibling && !exclusiveParams.includes(key)) return false;\n    return true;\n  }).map(_ref => {\n    let [key, value] = _ref;\n    return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(value));\n  });\n  return [sameAsFirst ? '' : id].concat([encodedParams.length > 0 && encodedParams, encodedPayload].filter(isTruthy).flat()).join(',') || ',';\n}\n\nexport function parsePanesSegment(str) {\n  if (str.indexOf(',{') !== -1) {\n    return parseOldPanesSegment(str);\n  }\n\n  return str.split(';').map(group => {\n    const [firstSibling, ...restOfSiblings] = group.split('|').map(segment => {\n      const [id, ...chunks] = segment.split(',');\n      return parseChunks(chunks, {\n        id\n      });\n    });\n    return [firstSibling, ...restOfSiblings.map(sibling => ({ ...firstSibling,\n      ...sibling,\n      id: sibling.id || firstSibling.id,\n      params: { ..._omit(firstSibling.params, exclusiveParams),\n        ...sibling.params\n      },\n      payload: sibling.payload || firstSibling.payload\n    }))];\n  }).filter(group => group.length > 0);\n}\n\nfunction parseOldPanesSegment(str) {\n  const chunks = [];\n  let buffer = str;\n\n  while (buffer.length) {\n    const [match, id, payloadChunk] = buffer.match(panePattern) || [];\n\n    if (!match) {\n      buffer = buffer.slice(1);\n      continue;\n    }\n\n    const payload = payloadChunk && tryParsePayload(payloadChunk);\n    chunks.push({\n      id,\n      payload\n    });\n    buffer = buffer.slice(match.length);\n  }\n\n  return [chunks];\n}\n\nfunction tryParsePayload(json) {\n  try {\n    return JSON.parse(json);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(\"Failed to parse parameters: \".concat(err.message));\n    return undefined;\n  }\n}\n\nfunction tryParseBase64Payload(data) {\n  return data ? tryParsePayload(atob(data)) : undefined;\n}", "import { jsx, Fragment } from 'react/jsx-runtime';\nimport { useLayoutEffect as useLayoutEffect$1, useEffect, useRef, useCallback, useState } from 'react';\n\nconst ratio = ({ width, height }) => width / height;\n\nconst round = (value, decimals = 0) => {\r\n    const factor = 10 ** decimals;\r\n    return Math.round((value + Number.EPSILON) * factor) / factor;\r\n};\n\nconst RankingFunctionComparator = (rank) => (a, b) => rank(b) - rank(a);\r\nconst MinHeap = (comparator) => {\r\n    const heap = [];\r\n    const compare = comparator;\r\n    let n = 0;\r\n    const greater = (i, j) => compare(heap[i], heap[j]) < 0;\r\n    const swap = (i, j) => {\r\n        const temp = heap[i];\r\n        heap[i] = heap[j];\r\n        heap[j] = temp;\r\n    };\r\n    const swim = (k) => {\r\n        let k2 = k >> 1;\r\n        while (k > 1 && greater(k2, k)) {\r\n            swap(k2, k);\r\n            k = k2;\r\n            k2 = k >> 1;\r\n        }\r\n    };\r\n    const sink = (k) => {\r\n        let j = k << 1;\r\n        while (j <= n) {\r\n            if (j < n && greater(j, j + 1))\r\n                j++;\r\n            if (!greater(k, j))\r\n                break;\r\n            swap(k, j);\r\n            k = j;\r\n            j = k << 1;\r\n        }\r\n    };\r\n    return {\r\n        push: (element) => {\r\n            n += 1;\r\n            heap[n] = element;\r\n            swim(n);\r\n        },\r\n        pop: () => {\r\n            if (n === 0)\r\n                return undefined;\r\n            swap(1, n);\r\n            n -= 1;\r\n            const max = heap.pop();\r\n            sink(1);\r\n            return max;\r\n        },\r\n        size: () => n,\r\n    };\r\n};\n\nconst buildPrecedentsMap = (graph, startNode, endNode) => {\r\n    const precedentsMap = {};\r\n    const visited = {};\r\n    const storedShortestPaths = {};\r\n    storedShortestPaths[startNode] = 0;\r\n    const pQueue = MinHeap(RankingFunctionComparator((el) => el.weight));\r\n    pQueue.push({ id: startNode, weight: 0 });\r\n    let shortestNode;\r\n    while ((shortestNode = pQueue.pop()) !== undefined) {\r\n        const shortestNodeId = shortestNode.id;\r\n        if (visited[shortestNodeId])\r\n            continue;\r\n        const neighboringNodes = graph(shortestNodeId);\r\n        visited[shortestNodeId] = 1;\r\n        for (const neighbor in neighboringNodes) {\r\n            const newTotalWeight = shortestNode.weight + neighboringNodes[neighbor];\r\n            if (storedShortestPaths[neighbor] === undefined ||\r\n                (storedShortestPaths[neighbor] > newTotalWeight &&\r\n                    (storedShortestPaths[neighbor] / newTotalWeight > 1.005 ||\r\n                        precedentsMap[neighbor] < shortestNodeId))) {\r\n                storedShortestPaths[neighbor] = newTotalWeight;\r\n                pQueue.push({ id: neighbor, weight: newTotalWeight });\r\n                precedentsMap[neighbor] = shortestNodeId;\r\n            }\r\n        }\r\n    }\r\n    if (typeof storedShortestPaths[endNode] === \"undefined\") {\r\n        return undefined;\r\n    }\r\n    return precedentsMap;\r\n};\r\nconst getPathFromPrecedentsMap = (precedentsMap, endNode) => {\r\n    const nodes = [];\r\n    let n = endNode;\r\n    while (n) {\r\n        nodes.push(n);\r\n        n = precedentsMap[n];\r\n    }\r\n    return nodes.reverse();\r\n};\r\nconst findShortestPath = (graph, startNode, endNode) => {\r\n    const precedentsMap = buildPrecedentsMap(graph, startNode, endNode);\r\n    return precedentsMap !== undefined ? getPathFromPrecedentsMap(precedentsMap, endNode) : undefined;\r\n};\n\nconst findIdealNodeSearch = ({ photos, targetRowHeight, containerWidth, }) => {\r\n    const minRatio = photos.reduce((acc, photo) => Math.min(ratio(photo), acc), Number.MAX_VALUE);\r\n    return round(containerWidth / targetRowHeight / minRatio) + 2;\r\n};\r\nconst getCommonHeight = (row, containerWidth, spacing, padding) => {\r\n    const rowWidth = containerWidth - (row.length - 1) * spacing - 2 * padding * row.length;\r\n    const totalAspectRatio = row.reduce((acc, photo) => acc + ratio(photo), 0);\r\n    return rowWidth / totalAspectRatio;\r\n};\r\nconst cost = (photos, i, j, width, targetRowHeight, spacing, padding) => {\r\n    const row = photos.slice(i, j);\r\n    const commonHeight = getCommonHeight(row, width, spacing, padding);\r\n    return commonHeight > 0 ? (commonHeight - targetRowHeight) ** 2 * row.length : undefined;\r\n};\r\nconst makeGetNeighbors$1 = ({ photos, layoutOptions, targetRowHeight, limitNodeSearch, rowConstraints, instrumentation, }) => (node) => {\r\n    var _a, _b;\r\n    const { containerWidth, spacing, padding } = layoutOptions;\r\n    const results = {};\r\n    const start = +node;\r\n    results[+start] = 0;\r\n    const startOffset = (_a = rowConstraints === null || rowConstraints === void 0 ? void 0 : rowConstraints.minPhotos) !== null && _a !== void 0 ? _a : 1;\r\n    const endOffset = Math.min(limitNodeSearch, (_b = rowConstraints === null || rowConstraints === void 0 ? void 0 : rowConstraints.maxPhotos) !== null && _b !== void 0 ? _b : Infinity);\r\n    for (let i = start + startOffset; i < photos.length + 1; i += 1) {\r\n        if (i - start > endOffset && !(instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.fullGraphSearch))\r\n            break;\r\n        const currentCost = cost(photos, start, i, containerWidth, targetRowHeight, spacing, padding);\r\n        if (currentCost === undefined)\r\n            break;\r\n        results[i.toString()] = currentCost;\r\n    }\r\n    return results;\r\n};\r\nconst computeRowsLayout = ({ photos, layoutOptions, instrumentation, }) => {\r\n    var _a, _b;\r\n    const { spacing, padding, containerWidth, targetRowHeight, rowConstraints } = layoutOptions;\r\n    (_a = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onStartLayoutComputation) === null || _a === void 0 ? void 0 : _a.call(instrumentation);\r\n    const limitNodeSearch = findIdealNodeSearch({ photos, containerWidth, targetRowHeight });\r\n    const getNeighbors = makeGetNeighbors$1({\r\n        photos,\r\n        layoutOptions,\r\n        targetRowHeight,\r\n        limitNodeSearch,\r\n        rowConstraints,\r\n        instrumentation,\r\n    });\r\n    const path = findShortestPath(getNeighbors, \"0\", `${photos.length}`);\r\n    if (path === undefined)\r\n        return undefined;\r\n    const result = [];\r\n    for (let i = 1; i < path.length; i += 1) {\r\n        const row = photos.map((photo, index) => ({ photo, index })).slice(+path[i - 1], +path[i]);\r\n        const height = getCommonHeight(row.map(({ photo }) => photo), containerWidth, spacing, padding);\r\n        result.push(row.map(({ photo, index }, photoIndex) => ({\r\n            photo,\r\n            layout: {\r\n                height,\r\n                width: height * ratio(photo),\r\n                index,\r\n                photoIndex,\r\n                photosCount: row.length,\r\n            },\r\n        })));\r\n    }\r\n    (_b = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onFinishLayoutComputation) === null || _b === void 0 ? void 0 : _b.call(instrumentation, result);\r\n    return result;\r\n};\n\nconst calcWidth = (base, { width, photosCount }, { spacing, padding, containerWidth }) => {\r\n    const gaps = spacing * (photosCount - 1) + 2 * padding * photosCount;\r\n    return `calc((${base} - ${gaps}px) / ${round((containerWidth - gaps) / width, 5)})`;\r\n};\r\nconst cssWidth$1 = (layout, layoutOptions) => {\r\n    if (layoutOptions.layout !== \"rows\") {\r\n        return `calc(100% - ${2 * layoutOptions.padding}px)`;\r\n    }\r\n    return calcWidth(\"100%\", layout, layoutOptions);\r\n};\r\nconst calculateSizesValue = (size, layout, layoutOptions) => { var _a, _b; return calcWidth((_b = (_a = size.match(/calc\\((.*)\\)/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : size, layout, layoutOptions); };\r\nconst srcSetAndSizes = (photo, layout, layoutOptions) => {\r\n    let srcSet, sizes;\r\n    if (photo.images && photo.images.length > 0) {\r\n        srcSet = photo.images\r\n            .concat([\r\n            {\r\n                src: photo.src,\r\n                width: photo.width,\r\n                height: photo.height,\r\n            },\r\n        ])\r\n            .sort((first, second) => first.width - second.width)\r\n            .map((image) => `${image.src} ${image.width}w`)\r\n            .join(\", \");\r\n    }\r\n    if (layoutOptions.sizes) {\r\n        sizes = (layoutOptions.sizes.sizes || [])\r\n            .map(({ viewport, size }) => `${viewport} ${calculateSizesValue(size, layout, layoutOptions)}`)\r\n            .concat(calculateSizesValue(layoutOptions.sizes.size, layout, layoutOptions))\r\n            .join(\", \");\r\n    }\r\n    else {\r\n        sizes = `${Math.ceil((layout.width / (layoutOptions.viewportWidth || layoutOptions.containerWidth)) * 100)}vw`;\r\n    }\r\n    return { srcSet, sizes };\r\n};\r\nconst PhotoRenderer = (props) => {\r\n    var _a, _b;\r\n    const { photo, layout, layoutOptions, imageProps: { style, ...restImageProps } = {}, renderPhoto } = props;\r\n    const { onClick } = layoutOptions;\r\n    const imageStyle = {\r\n        display: \"block\",\r\n        boxSizing: \"content-box\",\r\n        width: cssWidth$1(layout, layoutOptions),\r\n        height: \"auto\",\r\n        aspectRatio: `${photo.width} / ${photo.height}`,\r\n        ...(layoutOptions.padding ? { padding: `${layoutOptions.padding}px` } : null),\r\n        ...((layoutOptions.layout === \"columns\" || layoutOptions.layout === \"masonry\") &&\r\n            layout.photoIndex < layout.photosCount - 1\r\n            ? { marginBottom: `${layoutOptions.spacing}px` }\r\n            : null),\r\n        ...(onClick ? { cursor: \"pointer\" } : null),\r\n        ...style,\r\n    };\r\n    const handleClick = onClick\r\n        ? (event) => {\r\n            onClick(event, photo, layout.index);\r\n        }\r\n        : undefined;\r\n    const imageProps = {\r\n        src: photo.src,\r\n        alt: (_a = photo.alt) !== null && _a !== void 0 ? _a : \"\",\r\n        title: photo.title,\r\n        onClick: handleClick,\r\n        style: imageStyle,\r\n        className: \"react-photo-album--photo\",\r\n        ...srcSetAndSizes(photo, layout, layoutOptions),\r\n        ...restImageProps,\r\n    };\r\n    const renderDefaultPhoto = ({ wrapped } = {}) => {\r\n        const { src, alt, srcSet, sizes, style, ...rest } = imageProps;\r\n        return (jsx(\"img\", { alt: alt, ...(srcSet ? { srcSet, sizes } : null), src: src, style: wrapped ? { display: \"block\", width: \"100%\", height: \"100%\" } : style, ...rest }));\r\n    };\r\n    const wrapperStyle = (({ display, boxSizing, width, aspectRatio, padding, marginBottom }) => ({\r\n        display,\r\n        boxSizing,\r\n        width,\r\n        aspectRatio,\r\n        padding,\r\n        marginBottom,\r\n    }))(imageStyle);\r\n    return (jsx(Fragment, { children: (_b = renderPhoto === null || renderPhoto === void 0 ? void 0 : renderPhoto({\r\n            photo,\r\n            layout,\r\n            layoutOptions,\r\n            imageProps,\r\n            renderDefaultPhoto,\r\n            wrapperStyle,\r\n        })) !== null && _b !== void 0 ? _b : renderDefaultPhoto() }));\r\n};\n\nconst defaultRenderRowContainer = ({ rowContainerProps, children, }) => jsx(\"div\", { ...rowContainerProps, children: children });\r\nconst RowContainerRenderer = (props) => {\r\n    const { layoutOptions, rowIndex, rowsCount, renderRowContainer, rowContainerProps: { style, ...restRowContainerProps } = {}, children, } = props;\r\n    const rowContainerProps = {\r\n        className: \"react-photo-album--row\",\r\n        style: {\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            flexWrap: \"nowrap\",\r\n            alignItems: \"flex-start\",\r\n            justifyContent: \"space-between\",\r\n            ...(rowIndex < rowsCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null),\r\n            ...style,\r\n        },\r\n        ...restRowContainerProps,\r\n    };\r\n    return (jsx(Fragment, { children: (renderRowContainer !== null && renderRowContainer !== void 0 ? renderRowContainer : defaultRenderRowContainer)({\r\n            layoutOptions,\r\n            rowIndex,\r\n            rowsCount,\r\n            rowContainerProps,\r\n            children,\r\n        }) }));\r\n};\n\nconst RowsLayout = (props) => {\r\n    const { photos, layoutOptions, renderPhoto, renderRowContainer, componentsProps, instrumentation } = props;\r\n    const rowsLayout = computeRowsLayout({ photos, layoutOptions, instrumentation });\r\n    if (rowsLayout === undefined)\r\n        return jsx(Fragment, {});\r\n    return (jsx(Fragment, { children: rowsLayout.map((row, rowIndex) => (jsx(RowContainerRenderer, { layoutOptions: layoutOptions, rowIndex: rowIndex, rowsCount: rowsLayout.length, renderRowContainer: renderRowContainer, rowContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.rowContainerProps, children: row.map(({ photo, layout }) => (jsx(PhotoRenderer, { photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }, photo.key || photo.src))) }, `row-${rowIndex}`))) }));\r\n};\n\nconst computeShortestPath = (graph, pathLength, startNode, endNode) => {\r\n    const comp = [];\r\n    const queue = { 0: { [startNode]: null } };\r\n    for (let length = 0; length < pathLength; length += 1) {\r\n        Object.keys(queue[length]).forEach((n) => {\r\n            const node = +n;\r\n            const accumulatedWeight = length > 0 && comp[node][length] ? comp[node][length][1] : 0;\r\n            graph(node).forEach(({ neighbor, weight }) => {\r\n                if (!comp[neighbor]) {\r\n                    comp[neighbor] = [];\r\n                }\r\n                const newTotalWeight = accumulatedWeight + weight;\r\n                if (!comp[neighbor][length + 1] ||\r\n                    (comp[neighbor][length + 1][1] > newTotalWeight &&\r\n                        (comp[neighbor][length + 1][1] / newTotalWeight > 1.0001 ||\r\n                            node < comp[neighbor][length + 1][0]))) {\r\n                    comp[neighbor][length + 1] = [node, newTotalWeight];\r\n                }\r\n                if (length < pathLength - 1 && neighbor !== endNode) {\r\n                    if (!queue[length + 1]) {\r\n                        queue[length + 1] = {};\r\n                    }\r\n                    queue[length + 1][neighbor] = null;\r\n                }\r\n            });\r\n        });\r\n    }\r\n    return comp;\r\n};\r\nconst reconstructShortestPath = (comp, pathLength, endNode) => {\r\n    const path = [endNode];\r\n    for (let node = endNode, length = pathLength; length > 0; length -= 1) {\r\n        const [prevNode] = comp[node][length];\r\n        node = prevNode;\r\n        path.push(node);\r\n    }\r\n    return path.reverse();\r\n};\r\nconst findShortestPathLengthN = (graph, pathLength, startNode, endNode) => reconstructShortestPath(computeShortestPath(graph, pathLength, startNode, endNode), pathLength, endNode);\n\nconst makeGetNeighbors = ({ photos, spacing, padding, targetColumnWidth, targetColumnHeight, instrumentation, }) => (node) => {\r\n    const results = [];\r\n    const cutOffHeight = targetColumnHeight * 1.5;\r\n    let height = targetColumnWidth / ratio(photos[node]) + 2 * padding;\r\n    for (let i = node + 1; i < photos.length + 1; i += 1) {\r\n        results.push({ neighbor: i, weight: (targetColumnHeight - height) ** 2 });\r\n        if ((height > cutOffHeight && !(instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.fullGraphSearch)) || i === photos.length) {\r\n            break;\r\n        }\r\n        height += targetColumnWidth / ratio(photos[i]) + spacing + 2 * padding;\r\n    }\r\n    return results;\r\n};\r\nconst buildColumnsModel = ({ path, photos, containerWidth, columnsGaps, columnsRatios, spacing, padding, }) => {\r\n    const columnsModel = [];\r\n    const totalRatio = columnsRatios.reduce((acc, ratio) => acc + ratio, 0);\r\n    for (let i = 0; i < path.length - 1; i += 1) {\r\n        const column = photos.map((photo, index) => ({ photo, index })).slice(path[i], path[i + 1]);\r\n        const totalAdjustedGaps = columnsRatios.reduce((acc, ratio, index) => acc + (columnsGaps[i] - columnsGaps[index]) * ratio, 0);\r\n        const columnWidth = ((containerWidth - (path.length - 2) * spacing - 2 * (path.length - 1) * padding - totalAdjustedGaps) *\r\n            columnsRatios[i]) /\r\n            totalRatio;\r\n        columnsModel.push(column.map(({ photo, index }, photoIndex) => ({\r\n            photo,\r\n            layout: {\r\n                width: columnWidth,\r\n                height: columnWidth / ratio(photo),\r\n                index,\r\n                photoIndex,\r\n                photosCount: column.length,\r\n            },\r\n        })));\r\n    }\r\n    return columnsModel;\r\n};\r\nconst computeColumnsModel = ({ photos, layoutOptions, targetColumnWidth, instrumentation, }) => {\r\n    var _a;\r\n    const { columns, spacing, padding, containerWidth } = layoutOptions;\r\n    const columnsGaps = [];\r\n    const columnsRatios = [];\r\n    if (photos.length <= columns) {\r\n        for (let index = 0; index < photos.length; index += 1) {\r\n            columnsGaps[index] = 2 * padding;\r\n            columnsRatios[index] = ratio(photos[index]);\r\n        }\r\n        const columnsModel = buildColumnsModel({\r\n            path: Array.from({ length: photos.length + 1 }).map((_, index) => index),\r\n            photos,\r\n            columnsRatios,\r\n            columnsGaps,\r\n            containerWidth,\r\n            spacing,\r\n            padding,\r\n        });\r\n        for (let i = photos.length; i < (((_a = layoutOptions.columnConstraints) === null || _a === void 0 ? void 0 : _a.minColumns) || 0); i += 1) {\r\n            columnsGaps[i] = 0;\r\n            columnsRatios[i] =\r\n                photos.length > 0 ? photos.reduce((acc, photo) => acc + ratio(photo), 0) / photos.length : 1;\r\n            columnsModel[i] = [];\r\n        }\r\n        return { columnsGaps, columnsRatios, columnsModel };\r\n    }\r\n    const targetColumnHeight = (photos.reduce((acc, photo) => acc + targetColumnWidth / ratio(photo), 0) +\r\n        spacing * (photos.length - columns) +\r\n        2 * padding * photos.length) /\r\n        columns;\r\n    const getNeighbors = makeGetNeighbors({\r\n        photos,\r\n        targetColumnWidth,\r\n        targetColumnHeight,\r\n        spacing,\r\n        padding,\r\n        instrumentation,\r\n    });\r\n    const path = findShortestPathLengthN(getNeighbors, columns, 0, photos.length).map((node) => +node);\r\n    for (let i = 0; i < path.length - 1; i += 1) {\r\n        const column = photos.slice(path[i], path[i + 1]);\r\n        columnsGaps[i] = spacing * (column.length - 1) + 2 * padding * column.length;\r\n        columnsRatios[i] = 1 / column.reduce((acc, photo) => acc + 1 / ratio(photo), 0);\r\n    }\r\n    const columnsModel = buildColumnsModel({\r\n        path,\r\n        photos,\r\n        columnsRatios,\r\n        columnsGaps,\r\n        containerWidth,\r\n        spacing,\r\n        padding,\r\n    });\r\n    return { columnsGaps, columnsRatios, columnsModel };\r\n};\r\nconst computeLayout = (props) => {\r\n    const { photos, layoutOptions, instrumentation } = props;\r\n    const { columns, spacing, padding, containerWidth } = layoutOptions;\r\n    const targetColumnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\r\n    const { columnsGaps, columnsRatios, columnsModel } = computeColumnsModel({\r\n        photos,\r\n        layoutOptions,\r\n        targetColumnWidth,\r\n        instrumentation,\r\n    });\r\n    if (columnsModel.findIndex((columnModel) => columnModel.findIndex(({ layout: { width, height } }) => width < 0 || height < 0) >= 0) >= 0) {\r\n        if (columns > 1) {\r\n            return computeLayout({\r\n                photos,\r\n                layoutOptions: {\r\n                    ...layoutOptions,\r\n                    columns: columns - 1,\r\n                },\r\n                instrumentation,\r\n            });\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    return { columnsModel, columnsGaps, columnsRatios };\r\n};\r\nconst computeColumnsLayout = ({ photos, layoutOptions, instrumentation, }) => {\r\n    var _a, _b, _c;\r\n    (_a = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onStartLayoutComputation) === null || _a === void 0 ? void 0 : _a.call(instrumentation);\r\n    const result = computeLayout({\r\n        photos,\r\n        layoutOptions: {\r\n            ...layoutOptions,\r\n            columns: Math.min(layoutOptions.columns, Math.max(photos.length, ((_b = layoutOptions.columnConstraints) === null || _b === void 0 ? void 0 : _b.minColumns) || 0)),\r\n        },\r\n        instrumentation,\r\n    });\r\n    (_c = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onFinishLayoutComputation) === null || _c === void 0 ? void 0 : _c.call(instrumentation, result);\r\n    return result;\r\n};\n\nconst defaultRenderColumnContainer = ({ columnContainerProps, children, }) => jsx(\"div\", { ...columnContainerProps, children: children });\r\nconst cssWidth = (props) => {\r\n    const { layoutOptions, columnIndex, columnsCount, columnsGaps, columnsRatios } = props;\r\n    const { layout, spacing, padding } = layoutOptions;\r\n    if (layout === \"masonry\" || !columnsGaps || !columnsRatios) {\r\n        return `calc((100% - ${spacing * (columnsCount - 1)}px) / ${columnsCount})`;\r\n    }\r\n    const totalRatio = columnsRatios.reduce((acc, ratio) => acc + ratio, 0);\r\n    const totalAdjustedGaps = columnsRatios.reduce((acc, ratio, index) => acc + (columnsGaps[columnIndex] - columnsGaps[index]) * ratio, 0);\r\n    return `calc((100% - ${round((columnsCount - 1) * spacing + 2 * columnsCount * padding + totalAdjustedGaps, 3)}px) * ${round(columnsRatios[columnIndex] / totalRatio, 5)} + ${2 * padding}px)`;\r\n};\r\nconst ColumnContainerRenderer = (props) => {\r\n    const { layoutOptions, renderColumnContainer, children, columnContainerProps: { style, ...restColumnContainerProps } = {}, ...rest } = props;\r\n    const columnContainerProps = {\r\n        className: \"react-photo-album--column\",\r\n        style: {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            flexWrap: \"nowrap\",\r\n            alignItems: \"flex-start\",\r\n            width: cssWidth(props),\r\n            justifyContent: layoutOptions.layout === \"columns\" ? \"space-between\" : \"flex-start\",\r\n            ...style,\r\n        },\r\n        ...restColumnContainerProps,\r\n    };\r\n    return (jsx(Fragment, { children: (renderColumnContainer !== null && renderColumnContainer !== void 0 ? renderColumnContainer : defaultRenderColumnContainer)({\r\n            layoutOptions,\r\n            columnContainerProps,\r\n            children,\r\n            ...rest,\r\n        }) }));\r\n};\n\nconst ColumnsLayout = (props) => {\r\n    const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps, instrumentation } = props;\r\n    const columnsLayout = computeColumnsLayout({ photos, layoutOptions, instrumentation });\r\n    if (columnsLayout === undefined)\r\n        return jsx(Fragment, {});\r\n    const { columnsModel, columnsRatios, columnsGaps } = columnsLayout;\r\n    return (jsx(Fragment, { children: columnsModel.map((column, columnIndex) => (jsx(ColumnContainerRenderer, { layoutOptions: layoutOptions, columnIndex: columnIndex, columnsCount: columnsModel.length, columnsGaps: columnsGaps, columnsRatios: columnsRatios, renderColumnContainer: renderColumnContainer, columnContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.columnContainerProps, children: column.map(({ photo, layout }) => (jsx(PhotoRenderer, { photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }, photo.key || photo.src))) }, `column-${columnIndex}`))) }));\r\n};\n\nconst computeMasonryLayout = (props) => {\r\n    var _a, _b, _c;\r\n    const { photos, layoutOptions, instrumentation } = props;\r\n    const { spacing, padding, containerWidth } = layoutOptions;\r\n    const columns = Math.min(layoutOptions.columns, Math.max(photos.length, ((_a = layoutOptions.columnConstraints) === null || _a === void 0 ? void 0 : _a.minColumns) || 0));\r\n    (_b = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onStartLayoutComputation) === null || _b === void 0 ? void 0 : _b.call(instrumentation);\r\n    const columnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\r\n    if (columnWidth <= 0) {\r\n        return columns > 1\r\n            ? computeMasonryLayout({\r\n                ...props,\r\n                layoutOptions: { ...layoutOptions, columns: columns - 1 },\r\n            })\r\n            : undefined;\r\n    }\r\n    const columnsCurrentTopPositions = [];\r\n    for (let i = 0; i < columns; i += 1) {\r\n        columnsCurrentTopPositions[i] = 0;\r\n    }\r\n    const columnsModel = photos.reduce((acc, photo, index) => {\r\n        const shortestColumn = columnsCurrentTopPositions.reduce((acc, item, i) => item < columnsCurrentTopPositions[acc] - 1 ? i : acc, 0);\r\n        columnsCurrentTopPositions[shortestColumn] =\r\n            columnsCurrentTopPositions[shortestColumn] + columnWidth / ratio(photo) + spacing + 2 * padding;\r\n        acc[shortestColumn].push({ photo, index });\r\n        return acc;\r\n    }, Array.from({ length: columns }).map(() => []));\r\n    const result = columnsModel.map((column) => column.map(({ photo, index }, photoIndex) => ({\r\n        photo,\r\n        layout: {\r\n            width: columnWidth,\r\n            height: columnWidth / ratio(photo),\r\n            index,\r\n            photoIndex,\r\n            photosCount: column.length,\r\n        },\r\n    })));\r\n    (_c = instrumentation === null || instrumentation === void 0 ? void 0 : instrumentation.onFinishLayoutComputation) === null || _c === void 0 ? void 0 : _c.call(instrumentation, result);\r\n    return result;\r\n};\n\nconst MasonryLayout = (props) => {\r\n    const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps, instrumentation } = props;\r\n    const masonryLayout = computeMasonryLayout({ photos, layoutOptions, instrumentation });\r\n    if (masonryLayout === undefined)\r\n        return jsx(Fragment, {});\r\n    return (jsx(Fragment, { children: masonryLayout.map((column, columnIndex) => (jsx(ColumnContainerRenderer, { layoutOptions: layoutOptions, columnsCount: masonryLayout.length, columnIndex: columnIndex, renderColumnContainer: renderColumnContainer, columnContainerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.columnContainerProps, children: column.map(({ photo, layout }) => (jsx(PhotoRenderer, { photo: photo, layout: layout, layoutOptions: layoutOptions, renderPhoto: renderPhoto, imageProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.imageProps }, photo.key || photo.src))) }, `masonry-column-${columnIndex}`))) }));\r\n};\n\nconst defaultRenderContainer = ({ containerProps, children, containerRef, }) => (jsx(\"div\", { ref: containerRef, ...containerProps, children: children }));\r\nconst ContainerRenderer = (props) => {\r\n    const { layoutOptions, renderContainer, children, containerRef, containerProps: { style, ...restContainerProps } = {}, } = props;\r\n    const { layout } = layoutOptions;\r\n    const containerProps = {\r\n        className: `react-photo-album react-photo-album--${layout}`,\r\n        style: {\r\n            display: \"flex\",\r\n            flexWrap: \"nowrap\",\r\n            justifyContent: \"space-between\",\r\n            flexDirection: layout === \"rows\" ? \"column\" : \"row\",\r\n            ...style,\r\n        },\r\n        ...restContainerProps,\r\n    };\r\n    if (renderContainer && typeof renderContainer === \"object\") {\r\n        const Component = renderContainer;\r\n        return (jsx(Component, { ref: containerRef, layoutOptions: layoutOptions, containerProps: containerProps, children: children }));\r\n    }\r\n    return (jsx(Fragment, { children: (renderContainer !== null && renderContainer !== void 0 ? renderContainer : defaultRenderContainer)({\r\n            containerProps,\r\n            containerRef,\r\n            layoutOptions,\r\n            children,\r\n        }) }));\r\n};\n\nconst useLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect$1 : useEffect;\n\nconst useEventCallback = (fn) => {\r\n    const ref = useRef(fn);\r\n    useLayoutEffect(() => {\r\n        ref.current = fn;\r\n    });\r\n    return useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\r\n};\n\nconst useContainerWidth = (resizeObserverProvider, breakpoints) => {\r\n    const [containerWidth, setContainerWidth] = useState();\r\n    const [scrollbarWidth, setScrollbarWidth] = useState();\r\n    const ref = useRef(null);\r\n    const observerRef = useRef();\r\n    const updateWidth = useEventCallback(() => {\r\n        var _a;\r\n        let newWidth = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.clientWidth;\r\n        if (newWidth !== undefined && breakpoints && breakpoints.length > 0) {\r\n            const sortedBreakpoints = [...breakpoints.filter((x) => x > 0)].sort((a, b) => b - a);\r\n            sortedBreakpoints.push(Math.floor(sortedBreakpoints[sortedBreakpoints.length - 1] / 2));\r\n            const threshold = newWidth;\r\n            newWidth = sortedBreakpoints.find((breakpoint, index) => breakpoint <= threshold || index === sortedBreakpoints.length - 1);\r\n        }\r\n        const newScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n        if (newScrollbarWidth !== scrollbarWidth) {\r\n            setScrollbarWidth(newScrollbarWidth);\r\n        }\r\n        if (containerWidth !== undefined &&\r\n            scrollbarWidth !== undefined &&\r\n            newWidth !== undefined &&\r\n            newWidth > containerWidth &&\r\n            newWidth - containerWidth <= 20 &&\r\n            newScrollbarWidth < scrollbarWidth) {\r\n            return;\r\n        }\r\n        if (newWidth !== containerWidth) {\r\n            setContainerWidth(newWidth);\r\n        }\r\n    });\r\n    const containerRef = useEventCallback((node) => {\r\n        var _a, _b;\r\n        (_a = observerRef.current) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        observerRef.current = undefined;\r\n        ref.current = node;\r\n        updateWidth();\r\n        if (node) {\r\n            observerRef.current =\r\n                typeof ResizeObserver !== \"undefined\"\r\n                    ? new ResizeObserver(updateWidth)\r\n                    : resizeObserverProvider === null || resizeObserverProvider === void 0 ? void 0 : resizeObserverProvider(updateWidth);\r\n            (_b = observerRef.current) === null || _b === void 0 ? void 0 : _b.observe(node);\r\n        }\r\n    });\r\n    return { containerRef, containerWidth };\r\n};\n\nconst breakpoints = Object.freeze([1200, 600, 300, 0]);\r\nconst unwrap = (value, containerWidth) => typeof value === \"function\" ? value(containerWidth) : value;\r\nconst unwrapParameter = (value, containerWidth) => typeof value !== \"undefined\" ? unwrap(value, containerWidth) : undefined;\r\nconst selectResponsiveValue = (values, containerWidth) => {\r\n    const index = breakpoints.findIndex((breakpoint) => breakpoint <= containerWidth);\r\n    return unwrap(values[index >= 0 ? index : 0], containerWidth);\r\n};\r\nconst resolveResponsiveParameter = (parameter, containerWidth, values, minValue = 0) => {\r\n    const value = unwrapParameter(parameter, containerWidth);\r\n    return Math.round(Math.max(value === undefined ? selectResponsiveValue(values, containerWidth) : value, minValue));\r\n};\n\nconst resolveLayoutOptions = ({ layout, onClick, viewportWidth, containerWidth, targetRowHeight, rowConstraints, columnConstraints, columns, spacing, padding, sizes, }) => ({\r\n    layout,\r\n    onClick,\r\n    viewportWidth,\r\n    containerWidth,\r\n    columns: resolveResponsiveParameter(columns, containerWidth, [5, 4, 3, 2], 1),\r\n    spacing: resolveResponsiveParameter(spacing, containerWidth, [20, 15, 10, 5]),\r\n    padding: resolveResponsiveParameter(padding, containerWidth, [0, 0, 0, 0, 0]),\r\n    targetRowHeight: resolveResponsiveParameter(targetRowHeight, containerWidth, [\r\n        (w) => w / 5,\r\n        (w) => w / 4,\r\n        (w) => w / 3,\r\n        (w) => w / 2,\r\n    ]),\r\n    rowConstraints: unwrapParameter(rowConstraints, containerWidth),\r\n    columnConstraints: unwrapParameter(columnConstraints, containerWidth),\r\n    sizes,\r\n});\r\nconst resolveComponentsProps = (componentsProps, containerWidth) => typeof componentsProps === \"function\" ? componentsProps(containerWidth) : componentsProps;\r\nconst PhotoAlbum = (props) => {\r\n    const { photos, layout, renderPhoto, renderContainer, renderRowContainer, renderColumnContainer, defaultContainerWidth, resizeObserverProvider, breakpoints, instrumentation, } = props;\r\n    const [mounted, setMounted] = useState(false);\r\n    const { containerRef, containerWidth } = useContainerWidth(resizeObserverProvider, breakpoints);\r\n    useLayoutEffect(() => setMounted(true), []);\r\n    if (!layout || ![\"rows\", \"columns\", \"masonry\"].includes(layout) || !Array.isArray(photos))\r\n        return jsx(Fragment, {});\r\n    const layoutOptions = resolveLayoutOptions({\r\n        containerWidth: (mounted && containerWidth) || defaultContainerWidth || 800,\r\n        viewportWidth: (mounted && window.innerWidth) || undefined,\r\n        ...props,\r\n    });\r\n    const componentsProps = resolveComponentsProps(props.componentsProps, layoutOptions.containerWidth);\r\n    const commonLayoutProps = { photos, renderPhoto, componentsProps, instrumentation };\r\n    return (jsx(ContainerRenderer, { containerRef: containerRef, layoutOptions: layoutOptions, renderContainer: renderContainer, containerProps: componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.containerProps, children: layout === \"rows\" ? (jsx(RowsLayout, { layoutOptions: layoutOptions, renderRowContainer: renderRowContainer, ...commonLayoutProps })) : layout === \"columns\" ? (jsx(ColumnsLayout, { layoutOptions: layoutOptions, renderColumnContainer: renderColumnContainer, ...commonLayoutProps })) : (jsx(MasonryLayout, { layoutOptions: layoutOptions, renderColumnContainer: renderColumnContainer, ...commonLayoutProps })) }));\r\n};\n\nexport { PhotoAlbum, PhotoAlbum as default };\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n", "/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n", "import Unsplash from './components/UnsplashAssetSource'\nimport Icon from './components/Icon'\nimport { createPlugin, AssetSource } from 'sanity'\n\nexport const unsplashAssetSource: AssetSource = {\n  name: 'unsplash',\n  title: 'Unsplash',\n  component: Unsplash,\n  icon: Icon,\n}\n\nexport const unsplashImageAsset = createPlugin({\n  name: 'asset-source-unsplash-plugin',\n\n  form: {\n    image: {\n      assetSources: (prev) => {\n        return [...prev, unsplashAssetSource]\n      },\n    },\n  },\n})\n", "import React from 'react'\nimport PhotoAlbum from 'react-photo-album'\nimport flatten from 'lodash/flatten'\nimport { BehaviorSubject, Subscription } from 'rxjs'\nimport { UnsplashPhoto } from '../types'\nimport Photo from './Photo'\nimport { fetchDownloadUrl, search } from '../datastores/unsplash'\nimport { Card, Dialog, Flex, Spinner, Stack, Text, TextInput } from '@sanity/ui'\nimport { Search } from './UnsplashAssetSource.styled'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { useClient, AssetSourceComponentProps, AssetFromSource } from 'sanity'\nimport { SanityClient } from '@sanity/client'\n\ntype State = {\n  query: string\n  searchResults: UnsplashPhoto[][]\n  page: number\n  isLoading: boolean\n  cursor: number\n}\n\nconst RESULTS_PER_PAGE = 42\nconst PHOTO_SPACING = 2\nconst PHOTO_PADDING = 1 // offset the 1px border width\n\nexport default function UnsplashAssetSource(props: AssetSourceComponentProps) {\n  const client = useClient()\n  return <UnsplashAssetSourceInternal {...props} client={client} />\n}\n\nclass UnsplashAssetSourceInternal extends React.Component<\n  AssetSourceComponentProps & { client: SanityClient },\n  State\n> {\n  static defaultProps = {\n    selectedAssets: undefined,\n  }\n\n  state = {\n    cursor: 0,\n    query: '',\n    page: 1,\n    searchResults: [[]],\n    isLoading: true,\n  }\n\n  searchSubscription: Subscription | null = null\n\n  searchSubject$ = new BehaviorSubject('')\n  pageSubject$ = new BehaviorSubject(1)\n\n  componentDidMount() {\n    this.searchSubscription = search(\n      this.props.client,\n      this.searchSubject$,\n      this.pageSubject$,\n      RESULTS_PER_PAGE\n    ).subscribe({\n      next: (results: UnsplashPhoto[]) => {\n        this.setState((prev) => ({\n          searchResults: [...prev.searchResults, results],\n          isLoading: false,\n        }))\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    if (this.searchSubscription) {\n      this.searchSubscription.unsubscribe()\n    }\n  }\n\n  handleSelect = (photo: UnsplashPhoto) => {\n    this.setState({ isLoading: true })\n    return fetchDownloadUrl(this.props.client, photo).then((downloadUrl) => {\n      const description = photo.description || undefined\n      const asset: AssetFromSource = {\n        kind: 'url',\n        value: downloadUrl,\n        assetDocumentProps: {\n          _type: 'sanity.imageAsset',\n          source: {\n            name: 'unsplash',\n            id: photo.id,\n            url: photo.links.html,\n          },\n          description,\n          creditLine: `${photo.user.name} by Unsplash`,\n        } as any,\n      }\n      this.props.onSelect([asset])\n    })\n  }\n\n  handleClose = () => {\n    this.props.onClose()\n  }\n\n  handleSearchTermChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const query = event.currentTarget.value\n    this.setState({ query, page: 1, searchResults: [[]], isLoading: true, cursor: 0 })\n    this.pageSubject$.next(1)\n    this.searchSubject$.next(query)\n  }\n\n  handleScollerLoadMore = () => {\n    // eslint-disable-next-line react/no-access-state-in-setstate\n    const nextPage = this.state.page + 1\n    this.setState({ page: nextPage, isLoading: true })\n    this.pageSubject$.next(nextPage)\n    this.searchSubject$.next(this.state.query)\n  }\n\n  handleKeyDown = (event: any) => {\n    const { cursor } = this.state\n    if ((event.keyCode === 38 || event.keyCode === 37) && cursor > 0) {\n      this.setState((prevState) => ({\n        cursor: prevState.cursor - 1,\n      }))\n    } else if (\n      (event.keyCode === 40 || event.keyCode === 39) &&\n      cursor < this.getPhotos().length - 1\n    ) {\n      this.setState((prevState) => ({\n        cursor: prevState.cursor + 1,\n      }))\n    }\n  }\n\n  getPhotos() {\n    return flatten(this.state.searchResults)\n  }\n\n  updateCursor = (photo: UnsplashPhoto) => {\n    const index = this.getPhotos().findIndex((result: UnsplashPhoto) => result.id === photo.id)\n    this.setState({ cursor: index })\n  }\n\n  renderImage = (props: any) => {\n    const { photo, layout } = props\n    const active =\n      this.getPhotos().findIndex((result: UnsplashPhoto) => result.id === photo.data.id) ===\n        this.state.cursor || false\n    return (\n      <Photo\n        onClick={this.handleSelect.bind(photo.data)}\n        onKeyDown={this.handleKeyDown}\n        data={photo.data}\n        width={layout.width}\n        height={layout.height}\n        active={active}\n        onFocus={this.updateCursor}\n      />\n    )\n  }\n\n  render() {\n    const { query, searchResults, isLoading } = this.state\n\n    return (\n      <Dialog\n        id=\"unsplash-asset-source\"\n        header=\"Select image from Unsplash\"\n        onClose={this.handleClose}\n        open\n        width={4}\n      >\n        <Stack space={3} padding={4}>\n          <Card>\n            <Search space={3}>\n              <Text size={1} weight=\"semibold\">\n                Search Unsplash\n              </Text>\n              <TextInput\n                label=\"Search Unsplash.com\"\n                placeholder=\"Topics or colors\"\n                value={query}\n                onChange={this.handleSearchTermChanged}\n              />\n            </Search>\n          </Card>\n          {!isLoading && this.getPhotos().length === 0 && (\n            <Text size={1} muted>\n              No results found\n            </Text>\n          )}\n          <InfiniteScroll\n            dataLength={this.getPhotos().length} // This is important field to render the next data\n            next={this.handleScollerLoadMore}\n            // scrollableTarget=\"unsplash-scroller\"\n            hasMore\n            scrollThreshold={0.99}\n            height=\"60vh\"\n            loader={\n              <Flex align=\"center\" justify=\"center\" padding={3}>\n                <Spinner muted />\n              </Flex>\n            }\n            endMessage={\n              <Text size={1} muted>\n                No more results\n              </Text>\n            }\n          >\n            {searchResults\n              .filter((photos) => photos.length > 0)\n              .map((photos: UnsplashPhoto[], index) => (\n                <PhotoAlbum\n                  key={`gallery-${query || 'popular'}-${index}`}\n                  layout=\"rows\"\n                  spacing={PHOTO_SPACING}\n                  padding={PHOTO_PADDING}\n                  targetRowHeight={(width) => {\n                    if (width < 300) return 150\n                    else if (width < 600) return 200\n                    return 300\n                  }}\n                  photos={photos.map((photo: UnsplashPhoto) => ({\n                    src: photo.urls.small,\n                    width: photo.width,\n                    height: photo.height,\n                    key: photo.id,\n                    data: photo,\n                  }))}\n                  renderPhoto={this.renderImage}\n                  componentsProps={{\n                    containerProps: { style: { marginBottom: `${PHOTO_SPACING}px` } },\n                  }}\n                />\n              ))}\n          </InfiniteScroll>\n        </Stack>\n      </Dialog>\n    )\n  }\n}\n", "import { Text, useTheme } from '@sanity/ui'\nimport React, { useCallback, useEffect, useRef } from 'react'\nimport { UnsplashPhoto } from 'src/types'\nimport { CreditLine, CreditLineLink, Root } from './Photo.styled'\n\ntype Props = {\n  data: UnsplashPhoto\n  width: number\n  height: number\n  onClick: (photo: UnsplashPhoto) => void\n  onKeyDown: (event: any) => void\n  active: boolean\n  onFocus: (photo: UnsplashPhoto) => void\n}\n\nconst UTM_SOURCE = 'sanity-plugin-asset-source-unsplash'\n\nexport default function Photo(props: Props) {\n  const { onClick, data, onKeyDown, onFocus, active, width, height } = props\n  const rootElm = useRef<HTMLDivElement>(null)\n  const prevActive = useRef<boolean>(false)\n\n  const handleClick = useCallback(() => {\n    onClick(data)\n  }, [onClick, data])\n\n  const handleCreditLineClicked = useCallback(\n    (event: any) => {\n      event.stopPropagation()\n      const url = `${data.links.html}?utm_source=${encodeURIComponent(\n        UTM_SOURCE\n      )}&utm_medium=referral`\n      window.open(url, data.id, 'noreferrer,noopener')\n    },\n    [data]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: any) => {\n      onKeyDown(event)\n      if (event.keyCode === 13) {\n        onClick(data)\n      }\n    },\n    [onKeyDown, data, onClick]\n  )\n\n  const handleMouseDown = useCallback(() => {\n    onFocus(data)\n  }, [onFocus, data])\n\n  useEffect(() => {\n    if (!prevActive.current && active && rootElm.current) {\n      rootElm.current.focus()\n      onFocus(data)\n    }\n    prevActive.current = active\n    // data changing alone should not re-trigger effect\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [active])\n\n  const src = data.urls.small\n  const userName = data.user.name\n\n  const theme = useTheme().sanity\n  return (\n    <Root\n      ref={rootElm}\n      studioTheme={theme}\n      title={`Select image by ${userName} from Unsplash`}\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n      onMouseDown={handleMouseDown}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n        backgroundImage: `url(\"${src}\")`,\n      }}\n      onClick={handleClick}\n    >\n      <CreditLineLink onClick={handleCreditLineClicked}>\n        <CreditLine padding={2} radius={2} margin={2}>\n          <Text size={1} title={`Open image by ${userName} on Unsplash in new window`}>\n            By @{data.user.username}\n          </Text>\n        </CreditLine>\n      </CreditLineLink>\n    </Root>\n  )\n}\n", "import { Card, Theme } from '@sanity/ui'\nimport styled from 'styled-components'\n\ntype SanityTheme = Theme['sanity']\n\ninterface Style {\n  studioTheme: SanityTheme\n}\n\nexport const Root = styled.div`\n  overflow: hidden;\n  background-origin: content-box;\n  background-repeat: no-repeat;\n  background-clip: border-box;\n  background-size: cover;\n  position: relative;\n  outline: none !important;\n  border: ${({ studioTheme }: Style) => `1px solid ${studioTheme.color.card.enabled.border}`};\n  box-sizing: content-box;\n  user-drag: none;\n\n  &:hover {\n    opacity: 0.85;\n  }\n\n  &:focus,\n  &:active {\n    border: 1px solid var(--input-border-color-focus);\n    box-shadow: inset 0 0 0 3px var(--input-border-color-focus);\n  }\n`\n\nexport const CreditLineLink = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n`\n\nexport const CreditLine = styled(Card)`\n  ${({ theme }) => `\n     --creditline-fg: ${theme.sanity.color.card.enabled.fg};\n     --creditline-bg: ${theme.sanity.color.card.enabled.bg};\n   `};\n  user-drag: none;\n  position: absolute;\n  background-color: var(--creditline-bg);\n  bottom: 0;\n\n  [data-ui='Text'] {\n    color: var(--creditline-fg);\n  }\n`\n", "import { defer, concat, BehaviorSubject, Observable } from 'rxjs'\nimport { debounceTime, switchMap, map, distinctUntilChanged, withLatestFrom } from 'rxjs/operators'\nimport { UnsplashPhoto } from 'src/types'\nimport { SanityClient } from '@sanity/client'\n\ntype SearchSubject = BehaviorSubject<string>\ntype PageSubject = BehaviorSubject<number>\n\nconst fetchSearch = (\n  client: SanityClient,\n  query: string,\n  page: number,\n  perPage: number\n): Observable<any> =>\n  defer(() =>\n    client.observable.request({\n      url: `/addons/unsplash/search/photos?query=${encodeURIComponent(\n        query\n      )}&page=${page}&per_page=${perPage}`,\n      withCredentials: true,\n      method: 'GET',\n    })\n  )\n\nconst fetchList = (\n  client: SanityClient,\n  type: string,\n  page: number,\n  perPage: number\n): Observable<any> =>\n  defer(() =>\n    client.observable.request({\n      url: `/addons/unsplash/photos?order_by=${type}&page=${page}&per_page=${perPage}`,\n      withCredentials: true,\n      method: 'GET',\n    })\n  )\n\nexport function fetchDownloadUrl(client: SanityClient, photo: UnsplashPhoto): Promise<string> {\n  const downloadUrl = photo.links.download_location.replace(\n    'https://api.unsplash.com',\n    '/addons/unsplash'\n  )\n  return client\n    .request({\n      url: downloadUrl,\n      withCredentials: true,\n      method: 'GET',\n    })\n    .then((result: { url: string }) => {\n      return result.url\n    })\n}\n\nexport const search = (\n  client: SanityClient,\n  query: SearchSubject,\n  page: PageSubject,\n  resultsPerPage: number\n): Observable<any> => {\n  return concat(\n    query.pipe(\n      withLatestFrom(page),\n      debounceTime(500),\n      distinctUntilChanged(),\n      switchMap(([q, p]) => {\n        if (q) {\n          return fetchSearch(client, q, p, resultsPerPage).pipe(\n            distinctUntilChanged(),\n            map((result) => result.results)\n          )\n        }\n        return fetchList(client, 'popular', p, resultsPerPage)\n      })\n    )\n  )\n}\n", "import { Stack } from '@sanity/ui'\nimport styled from 'styled-components'\n\nexport const Search = styled(Stack)`\n  position: sticky;\n  top: 0;\n  z-index: 1;\n`\n\nexport const Scroller = styled.div`\n  overflow-y: auto;\n  max-height: 80vh;\n`\n", "import React from 'react'\nimport styled from 'styled-components'\n\nconst Svg = styled.svg`\n  transform: scale(0.8);\n`\n\nexport default function UnsplashIcon() {\n  return (\n    <Svg role=\"img\" viewBox=\"0 0 24 24\" width=\"1em\" height=\"1em\" fill=\"currentColor\">\n      <title />\n      <path d=\"M7.5 6.75V0h9v6.75h-9zm9 3.75H24V24H0V10.5h7.5v6.75h9V10.5z\" />\n    </Svg>\n  )\n}\n", "export default {\n  name: 'author',\n  title: 'Author',\n  type: 'document',\n  fields: [\n    {\n      name: 'name',\n      title: 'Name',\n      type: 'string',\n    },\n    {\n      name: 'slug',\n      title: 'Slug',\n      type: 'slug',\n      options: {\n        source: 'name',\n        maxLength: 96,\n      },\n    },\n    {\n      name: 'image',\n      title: 'Image',\n      type: 'image',\n      options: {\n        hotspot: true,\n      },\n    },\n    {\n      name: 'bio',\n      title: 'Bio',\n      type: 'array',\n      of: [\n        {\n          title: 'Block',\n          type: 'block',\n          styles: [{ title: 'Normal', value: 'normal' }],\n          lists: [],\n        },\n      ],\n    },\n  ],\n  preview: {\n    select: {\n      title: 'name',\n      media: 'image',\n    },\n  },\n}\n", "/**\n * This is the schema definition for the rich text fields used for\n * for this blog studio. When you import it in schemas.js it can be\n * reused in other parts of the studio with:\n *  {\n *    name: 'someName',\n *    title: 'Some title',\n *    type: 'blockContent'\n *  }\n */\nexport default {\n  title: 'Block Content',\n  name: 'blockContent',\n  type: 'array',\n  of: [\n    {\n      title: 'Block',\n      type: 'block',\n      // Styles let you set what your user can mark up blocks with. These\n      // correspond with HTML tags, but you can set any title or value\n      // you want and decide how you want to deal with it where you want to\n      // use your content.\n      styles: [\n        { title: 'Normal', value: 'normal' },\n        { title: 'H1', value: 'h1' },\n        { title: 'H2', value: 'h2' },\n        { title: 'H3', value: 'h3' },\n        { title: 'H4', value: 'h4' },\n        { title: 'Quote', value: 'blockquote' },\n      ],\n      lists: [{ title: 'Bullet', value: 'bullet' }],\n      // Marks let you mark up inline text in the block editor.\n      marks: {\n        // Decorators usually describe a single property \u2013 e.g. a typographic\n        // preference or highlighting by editors.\n        decorators: [\n          { title: 'Strong', value: 'strong' },\n          { title: 'Emphasis', value: 'em' },\n        ],\n        // Annotations can be any object structure \u2013 e.g. a link or a footnote.\n        annotations: [\n          {\n            title: 'URL',\n            name: 'link',\n            type: 'object',\n            fields: [\n              {\n                title: 'URL',\n                name: 'href',\n                type: 'url',\n              },\n            ],\n          },\n        ],\n      },\n    },\n    // You can add additional types here. Note that you can't use\n    // primitive types such as 'string' and 'number' in the same array\n    // as a block type.\n    {\n      type: 'image',\n      options: { hotspot: true },\n    },\n  ],\n}\n", "export default {\n  name: 'category',\n  title: 'Category',\n  type: 'document',\n  fields: [\n    {\n      name: 'title',\n      title: 'Title',\n      type: 'string',\n    },\n    {\n      name: 'description',\n      title: 'Description',\n      type: 'text',\n    },\n  ],\n}\n", "export default {\n  name: 'post',\n  title: 'Post',\n  type: 'document',\n  fields: [\n    {\n      name: 'title',\n      title: 'Title',\n      type: 'string',\n    },\n    {\n      name: 'url',\n      title: 'URL/Source',\n      type: 'url',\n    },\n    {\n      name: 'slug',\n      title: 'Slug',\n      type: 'slug',\n      options: {\n        source: 'title',\n        maxLength: 96,\n      },\n    },\n    {\n      name: 'author',\n      title: 'Author',\n      type: 'reference',\n      to: { type: 'author' },\n    },\n    {\n      name: 'mainImage',\n      title: 'Main image',\n      type: 'image',\n      options: {\n        hotspot: true,\n      },\n    },\n    {\n      name: 'categories',\n      title: 'Categories',\n      type: 'array',\n      of: [{ type: 'reference', to: { type: 'category' } }],\n    },\n    {\n      name: 'publishedAt',\n      title: 'Published at',\n      type: 'datetime',\n    },\n    {\n      name: 'body',\n      title: 'Body',\n      type: 'blockContent',\n    },\n  ],\n\n  preview: {\n    select: {\n      title: 'title',\n      url: 'url',\n      author: 'author.name',\n      media: 'mainImage',\n    },\n    prepare(selection) {\n      const { author, url } = selection\n      return { ...selection, subtitle: url || (author && `by ${author}`) }\n    },\n  },\n}\n", "import author from './author'\nimport blockContent from './blockContent'\nimport category from './category'\nimport post from './post'\n\nexport const schemaTypes = [post, author, category, blockContent]\n", "import { type SingleWorkspace, createConfig } from 'sanity'\nimport { deskTool } from 'sanity/desk'\nimport { unsplashImageAsset } from 'sanity-plugin-asset-source-unsplash'\n\nimport { schemaTypes } from './schemas'\n\nexport type Config = Pick<\n  SingleWorkspace,\n  'projectId' | 'dataset' | 'title' | 'basePath'\n>\n\nexport default ({ projectId, dataset, title, basePath, ...config }: Config) =>\n  createConfig({\n    projectId,\n    dataset,\n    title,\n    basePath,\n    ...config,\n    plugins: [deskTool(), unsplashImageAsset()],\n    schema: {\n      types: schemaTypes,\n    },\n  })\n"],
  "mappings": "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",
  "names": ["require_react_jsx_runtime_production_min", "__commonJSMin", "exports", "f", "g", "h", "m", "n", "p", "q", "c", "a", "k", "b", "d", "e", "l", "require_jsx_runtime", "__commonJSMin", "exports", "module", "import_react", "import_react_dom", "import_react", "import_react", "import_react", "import_react", "defaultTheme", "studioTheme", "import_react", "import_omit", "EMPTY_PARAMS", "legacyEditParamsToState", "params", "encodePanesSegment", "panes", "group", "encodeChunks", "legacyEditParamsToPath", "toState", "pathSegment", "parsePanesSegment", "toPath", "router", "route", "panePattern", "isParam", "str", "isPayload", "exclusiveParams", "isTruthy", "parseChunks", "chunks", "initial", "pane", "chunk", "key", "value", "tryParseBase64Payload", "index", "payload", "id", "firstSibling", "paneIsFirstSibling", "sameAsFirst", "encodedPayload", "encodedParams", "entry", "_firstSibling$params", "valueFromFirstSibling", "_ref", "parseOldPanesSegment", "restOfSiblings", "segment", "sibling", "_omit", "buffer", "match", "payloadChunk", "tryParsePayload", "json", "err", "data", "deskTool", "createPlugin", "options", "MasterDetailIcon", "intent", "params", "getIntentState", "router", "import_jsx_runtime", "import_react", "ratio", "width", "height", "round", "value", "decimals", "factor", "RankingFunctionComparator", "rank", "a", "b", "MinHeap", "comparator", "heap", "compare", "n", "greater", "i", "j", "swap", "temp", "swim", "k", "k2", "sink", "element", "max", "buildPrecedentsMap", "graph", "startNode", "endNode", "precedentsMap", "visited", "storedShortestPaths", "pQueue", "el", "shortestNode", "shortestNodeId", "neighboringNodes", "neighbor", "newTotalWeight", "getPathFromPrecedentsMap", "nodes", "findShortestPath", "findIdealNodeSearch", "photos", "targetRowHeight", "containerWidth", "minRatio", "acc", "photo", "getCommonHeight", "row", "spacing", "padding", "rowWidth", "totalAspectRatio", "cost", "commonHeight", "makeGetNeighbors$1", "layoutOptions", "limitNodeSearch", "rowConstraints", "instrumentation", "node", "_a", "_b", "results", "start", "startOffset", "endOffset", "currentCost", "computeRowsLayout", "getNeighbors", "path", "result", "index", "photoIndex", "calcWidth", "base", "photosCount", "gaps", "cssWidth$1", "layout", "calculateSizesValue", "size", "srcSetAndSizes", "srcSet", "sizes", "first", "second", "image", "viewport", "PhotoRenderer", "props", "style", "restImageProps", "renderPhoto", "onClick", "imageStyle", "handleClick", "event", "imageProps", "renderDefaultPhoto", "wrapped", "src", "alt", "rest", "wrapperStyle", "display", "boxSizing", "aspectRatio", "marginBottom", "defaultRenderRowContainer", "rowContainerProps", "children", "RowContainerRenderer", "rowIndex", "rowsCount", "renderRowContainer", "restRowContainerProps", "RowsLayout", "componentsProps", "rowsLayout", "computeShortestPath", "pathLength", "comp", "queue", "length", "accumulatedWeight", "weight", "reconstructShortestPath", "prevNode", "findShortestPathLengthN", "makeGetNeighbors", "targetColumnWidth", "targetColumnHeight", "cutOffHeight", "buildColumnsModel", "columnsGaps", "columnsRatios", "columnsModel", "totalRatio", "column", "totalAdjustedGaps", "columnWidth", "computeColumnsModel", "columns", "_", "computeLayout", "columnModel", "computeColumnsLayout", "_c", "defaultRenderColumnContainer", "columnContainerProps", "cssWidth", "columnIndex", "columnsCount", "ColumnContainerRenderer", "renderColumnContainer", "restColumnContainerProps", "ColumnsLayout", "columnsLayout", "computeMasonryLayout", "columnsCurrentTopPositions", "shortestColumn", "item", "MasonryLayout", "masonryLayout", "defaultRenderContainer", "containerProps", "containerRef", "ContainerRenderer", "renderContainer", "restContainerProps", "useLayoutEffect", "useLayoutEffect$1", "useEventCallback", "fn", "ref", "args", "useContainerWidth", "resizeObserverProvider", "breakpoints", "setContainerWidth", "scrollbarWidth", "setScrollbarWidth", "observerRef", "updateWidth", "newWidth", "sortedBreakpoints", "x", "threshold", "breakpoint", "newScrollbarWidth", "unwrap", "unwrapParameter", "selectResponsiveValue", "values", "resolveResponsiveParameter", "parameter", "minValue", "resolveLayoutOptions", "viewportWidth", "columnConstraints", "w", "resolveComponentsProps", "PhotoAlbum", "defaultContainerWidth", "mounted", "setMounted", "commonLayoutProps", "extendStatics", "d", "b", "p", "__extends", "__", "__assign", "t", "s", "i", "n", "throttle", "delay", "noTrailing", "callback", "debounceMode", "timeoutID", "cancelled", "lastExec", "clearExistingTimeout", "cancel", "wrapper", "self", "elapsed", "args", "exec", "clear", "$2eb3d34edc401dab$export$be92b6f5f03c0fe9", "styled_components_browser_esm_default", "studioTheme", "$2eb3d34edc401dab$export$efa8bdf03adcbcab", "$2eb3d34edc401dab$export$ac05e79a4174af5c", "Card", "theme", "$3e8dc0ce4c147379$var$UTM_SOURCE", "$3e8dc0ce4c147379$export$2e2bcd8739ae039", "props", "onClick", "data", "onKeyDown", "onFocus", "active", "width", "height", "rootElm", "$jPEKE$useRef", "prevActive", "handleClick", "$jPEKE$useCallback", "handleCreditLineClicked", "event", "url", "handleKeyDown", "handleMouseDown", "$jPEKE$useEffect", "src", "userName", "useTheme", "$jPEKE$jsx", "$jPEKE$jsxs", "Text", "$cb3eafd6aafd29e7$var$fetchSearch", "client", "query", "page", "perPage", "defer", "$cb3eafd6aafd29e7$var$fetchList", "type", "$cb3eafd6aafd29e7$export$83e179a74b22ff18", "photo", "downloadUrl", "result", "$cb3eafd6aafd29e7$export$d76128d007d19019", "resultsPerPage", "concat", "withLatestFrom", "debounceTime", "distinctUntilChanged", "switchMap", "q", "p", "map", "$ad78a55f70c021a6$export$4b85d3515bd863a5", "Stack", "$ad78a55f70c021a6$export$76d6749d1cf8513c", "$b0837b306fbe32c5$var$RESULTS_PER_PAGE", "$b0837b306fbe32c5$var$PHOTO_SPACING", "$b0837b306fbe32c5$var$PHOTO_PADDING", "$b0837b306fbe32c5$export$2e2bcd8739ae039", "useClient", "$b0837b306fbe32c5$var$UnsplashAssetSourceInternal", "$jPEKE$react", "BehaviorSubject", "results", "prev", "description", "asset", "nextPage", "cursor", "prevState", "$jPEKE$lodashflatten", "index", "layout", "searchResults", "isLoading", "Dialog", "TextInput", "index_es_default", "Flex", "Spinner", "photos", "PhotoAlbum", "__publicField", "$2fbf39ab67896983$var$Svg", "$2fbf39ab67896983$export$2e2bcd8739ae039", "$df9eabe9bda49ea8$export$26a922d0c5d23b67", "$df9eabe9bda49ea8$export$38ee668edea18a81", "createPlugin", "author_default", "blockContent_default", "category_default", "post_default", "selection", "author", "url", "schemaTypes", "post_default", "author_default", "category_default", "blockContent_default", "blog_default", "projectId", "dataset", "title", "basePath", "config", "deskTool", "$df9eabe9bda49ea8$export$38ee668edea18a81", "schemaTypes", "createStudio", "rootElement", "config", "Studio", "blog_default", "createHashHistory"]
}
