import{$ as he,D as se,F,G as ie,I as T,K as ae,N as le,O as ce,P as D,R as ue,S as de,U as W,Z as Y,_ as pe,a as Q,b as x,c as ee,d as te,e as Ve,f as $,fa as Xe,g as Je,ga as _,ha as Ze,k as j,la as K,ma as z,n as ne,o as oe,p as re,r as H,va as me,z as U}from"./chunk-ALQ4RA6M.js";var we=Q(O=>{"use strict";Ve();var Et=$(),Ee=60103;O.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(q=Symbol.for,Ee=q("react.element"),O.Fragment=q("react.fragment"));var q,xt=Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wt=Object.prototype.hasOwnProperty,Ct={key:!0,ref:!0,__self:!0,__source:!0};function xe(n,o,t){var e,r={},s=null,i=null;t!==void 0&&(s=""+t),o.key!==void 0&&(s=""+o.key),o.ref!==void 0&&(i=o.ref);for(e in o)wt.call(o,e)&&!Ct.hasOwnProperty(e)&&(r[e]=o[e]);if(n&&n.defaultProps)for(e in o=n.defaultProps,o)r[e]===void 0&&(r[e]=o[e]);return{$$typeof:Ee,type:n,key:s,ref:i,props:r,_owner:xt.current}}O.jsx=xe;O.jsxs=xe});var V=Q((yr,Ce)=>{"use strict";Ce.exports=we()});var Ge=x($()),qe=x(Je());var nt=x($());var Qe=x($());var et=x($());var tt=x($());var ot={...le,focusRing:{offset:-1,width:2}};var be=x($());var fe=x(Ze());var st={};function it(n){try{return JSON.parse(decodeURIComponent(n))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function at(n){return(n||[]).map(o=>o.map(gt).join("|")).map(encodeURIComponent).join(";")}function lt(n){return JSON.stringify(n)}function ct(n){return yt(decodeURIComponent(n))}function ut(n){return at(n)}var ge=_.create("/",[_.intents("/intent"),_.create("/edit/:type/:editDocumentId",[_.create({path:"/:params",transform:{params:{toState:it,toPath:lt}}})]),_.create({path:"/:panes",children:[_.create("/:action",_.create("/:legacyEditDocumentId"))],transform:{panes:{toState:ct,toPath:ut}}})]),dt=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,pt=n=>/^[a-z0-9]+=[^=]+/i.test(n),ht=n=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n),ye=["view","since","rev"],mt=Boolean;function ft(n,o){return n.reduce((t,e)=>{if(pt(e)){let r=e.slice(0,e.indexOf("=")),s=e.slice(r.length+1);t.params={...t.params,[decodeURIComponent(r)]:decodeURIComponent(s)}}else ht(e)?t.payload=bt(e):console.warn("Unknown pane segment: %s - skipping",e);return t},{...o,params:st,payload:void 0})}function gt(n,o,t){let{payload:e,params:r={},id:s}=n,[i]=t,u=n===i,a=o!==0&&s===i.id,c=typeof e>"u"?void 0:btoa(JSON.stringify(e)),l=Object.entries(r).filter(d=>{var h;let[m,y]=d;if(!y)return!1;if(u)return!0;let p=(h=i.params)===null||h===void 0?void 0:h[m];return!(y===p&&!ye.includes(m))}).map(d=>{let[h,m]=d;return"".concat(encodeURIComponent(h),"=").concat(encodeURIComponent(m))});return[a?"":s].concat([l.length>0&&l,c].filter(mt).flat()).join(",")||","}function yt(n){return n.indexOf(",{")!==-1?vt(n):n.split(";").map(o=>{let[t,...e]=o.split("|").map(r=>{let[s,...i]=r.split(",");return ft(i,{id:s})});return[t,...e.map(r=>({...t,...r,id:r.id||t.id,params:{...(0,fe.default)(t.params,ye),...r.params},payload:r.payload||t.payload}))]}).filter(o=>o.length>0)}function vt(n){let o=[],t=n;for(;t.length;){let[e,r,s]=t.match(dt)||[];if(!e){t=t.slice(1);continue}let i=s&&ve(s);o.push({id:r,payload:i}),t=t.slice(e.length)}return[o]}function ve(n){try{return JSON.parse(n)}catch(o){console.warn("Failed to parse parameters: ".concat(o.message));return}}function bt(n){return n?ve(atob(n)):void 0}var G=j(n=>({name:"@sanity/desk-tool",tools:[{name:n?.name||"desk",title:n?.title||"Desk",icon:n?.icon||ae,component:(0,be.lazy)(()=>import("./deskTool-FN26OFOC.js")),canHandleIntent:(o,t)=>Boolean(o==="edit"&&t.id||o==="create"&&t.type||o==="create"&&t.template),getIntentState:me,options:n,router:ge}]}));var b=x(V()),S=x($());var g=x(V()),w=x($()),C=({width:n,height:o})=>n/o,A=(n,o=0)=>{let t=10**o;return Math.round((n+Number.EPSILON)*t)/t},St=n=>(o,t)=>n(t)-n(o),$t=n=>{let o=[],t=n,e=0,r=(a,c)=>t(o[a],o[c])<0,s=(a,c)=>{let l=o[a];o[a]=o[c],o[c]=l},i=a=>{let c=a>>1;for(;a>1&&r(c,a);)s(c,a),a=c,c=a>>1},u=a=>{let c=a<<1;for(;c<=e&&(c<e&&r(c,c+1)&&c++,!!r(a,c));)s(a,c),a=c,c=a<<1};return{push:a=>{e+=1,o[e]=a,i(e)},pop:()=>{if(e===0)return;s(1,e),e-=1;let a=o.pop();return u(1),a},size:()=>e}},Pt=(n,o,t)=>{let e={},r={},s={};s[o]=0;let i=$t(St(a=>a.weight));i.push({id:o,weight:0});let u;for(;(u=i.pop())!==void 0;){let a=u.id;if(r[a])continue;let c=n(a);r[a]=1;for(let l in c){let d=u.weight+c[l];(s[l]===void 0||s[l]>d&&(s[l]/d>1.005||e[l]<a))&&(s[l]=d,i.push({id:l,weight:d}),e[l]=a)}}if(!(typeof s[t]>"u"))return e},_t=(n,o)=>{let t=[],e=o;for(;e;)t.push(e),e=n[e];return t.reverse()},Tt=(n,o,t)=>{let e=Pt(n,o,t);return e!==void 0?_t(e,t):void 0},Rt=({photos:n,targetRowHeight:o,containerWidth:t})=>{let e=n.reduce((r,s)=>Math.min(C(s),r),Number.MAX_VALUE);return A(t/o/e)+2},_e=(n,o,t,e)=>{let r=o-(n.length-1)*t-2*e*n.length,s=n.reduce((i,u)=>i+C(u),0);return r/s},Lt=(n,o,t,e,r,s,i)=>{let u=n.slice(o,t),a=_e(u,e,s,i);return a>0?(a-r)**2*u.length:void 0},kt=({photos:n,layoutOptions:o,targetRowHeight:t,limitNodeSearch:e,rowConstraints:r,instrumentation:s})=>i=>{var u,a;let{containerWidth:c,spacing:l,padding:d}=o,h={},m=+i;h[+m]=0;let y=(u=r?.minPhotos)!==null&&u!==void 0?u:1,p=Math.min(e,(a=r?.maxPhotos)!==null&&a!==void 0?a:1/0);for(let f=m+y;f<n.length+1&&!(f-m>p&&!s?.fullGraphSearch);f+=1){let v=Lt(n,m,f,c,t,l,d);if(v===void 0)break;h[f.toString()]=v}return h},jt=({photos:n,layoutOptions:o,instrumentation:t})=>{var e,r;let{spacing:s,padding:i,containerWidth:u,targetRowHeight:a,rowConstraints:c}=o;(e=t?.onStartLayoutComputation)===null||e===void 0||e.call(t);let l=Rt({photos:n,containerWidth:u,targetRowHeight:a}),d=kt({photos:n,layoutOptions:o,targetRowHeight:a,limitNodeSearch:l,rowConstraints:c,instrumentation:t}),h=Tt(d,"0",`${n.length}`);if(h===void 0)return;let m=[];for(let y=1;y<h.length;y+=1){let p=n.map((v,E)=>({photo:v,index:E})).slice(+h[y-1],+h[y]),f=_e(p.map(({photo:v})=>v),u,s,i);m.push(p.map(({photo:v,index:E},P)=>({photo:v,layout:{height:f,width:f*C(v),index:E,photoIndex:P,photosCount:p.length}})))}return(r=t?.onFinishLayoutComputation)===null||r===void 0||r.call(t,m),m},Te=(n,{width:o,photosCount:t},{spacing:e,padding:r,containerWidth:s})=>{let i=e*(t-1)+2*r*t;return`calc((${n} - ${i}px) / ${A((s-i)/o,5)})`},Dt=(n,o)=>o.layout!=="rows"?`calc(100% - ${2*o.padding}px)`:Te("100%",n,o),Se=(n,o,t)=>{var e,r;return Te((r=(e=n.match(/calc\((.*)\)/))===null||e===void 0?void 0:e[1])!==null&&r!==void 0?r:n,o,t)},Ot=(n,o,t)=>{let e,r;return n.images&&n.images.length>0&&(e=n.images.concat([{src:n.src,width:n.width,height:n.height}]).sort((s,i)=>s.width-i.width).map(s=>`${s.src} ${s.width}w`).join(", ")),t.sizes?r=(t.sizes.sizes||[]).map(({viewport:s,size:i})=>`${s} ${Se(i,o,t)}`).concat(Se(t.sizes.size,o,t)).join(", "):r=`${Math.ceil(o.width/(t.viewportWidth||t.containerWidth)*100)}vw`,{srcSet:e,sizes:r}},X=n=>{var o,t;let{photo:e,layout:r,layoutOptions:s,imageProps:{style:i,...u}={},renderPhoto:a}=n,{onClick:c}=s,l={display:"block",boxSizing:"content-box",width:Dt(r,s),height:"auto",aspectRatio:`${e.width} / ${e.height}`,...s.padding?{padding:`${s.padding}px`}:null,...(s.layout==="columns"||s.layout==="masonry")&&r.photoIndex<r.photosCount-1?{marginBottom:`${s.spacing}px`}:null,...c?{cursor:"pointer"}:null,...i},d=c?p=>{c(p,e,r.index)}:void 0,h={src:e.src,alt:(o=e.alt)!==null&&o!==void 0?o:"",title:e.title,onClick:d,style:l,className:"react-photo-album--photo",...Ot(e,r,s),...u},m=({wrapped:p}={})=>{let{src:f,alt:v,srcSet:E,sizes:P,style:k,...B}=h;return(0,g.jsx)("img",{alt:v,...E?{srcSet:E,sizes:P}:null,src:f,style:p?{display:"block",width:"100%",height:"100%"}:k,...B})},y=(({display:p,boxSizing:f,width:v,aspectRatio:E,padding:P,marginBottom:k})=>({display:p,boxSizing:f,width:v,aspectRatio:E,padding:P,marginBottom:k}))(l);return(0,g.jsx)(g.Fragment,{children:(t=a?.({photo:e,layout:r,layoutOptions:s,imageProps:h,renderDefaultPhoto:m,wrapperStyle:y}))!==null&&t!==void 0?t:m()})},Mt=({rowContainerProps:n,children:o})=>(0,g.jsx)("div",{...n,children:o}),It=n=>{let{layoutOptions:o,rowIndex:t,rowsCount:e,renderRowContainer:r,rowContainerProps:{style:s,...i}={},children:u}=n,a={className:"react-photo-album--row",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between",...t<e-1?{marginBottom:`${o.spacing}px`}:null,...s},...i};return(0,g.jsx)(g.Fragment,{children:(r??Mt)({layoutOptions:o,rowIndex:t,rowsCount:e,rowContainerProps:a,children:u})})},At=n=>{let{photos:o,layoutOptions:t,renderPhoto:e,renderRowContainer:r,componentsProps:s,instrumentation:i}=n,u=jt({photos:o,layoutOptions:t,instrumentation:i});return u===void 0?(0,g.jsx)(g.Fragment,{}):(0,g.jsx)(g.Fragment,{children:u.map((a,c)=>(0,g.jsx)(It,{layoutOptions:t,rowIndex:c,rowsCount:u.length,renderRowContainer:r,rowContainerProps:s?.rowContainerProps,children:a.map(({photo:l,layout:d})=>(0,g.jsx)(X,{photo:l,layout:d,layoutOptions:t,renderPhoto:e,imageProps:s?.imageProps},l.key||l.src))},`row-${c}`))})},Nt=(n,o,t,e)=>{let r=[],s={0:{[t]:null}};for(let i=0;i<o;i+=1)Object.keys(s[i]).forEach(u=>{let a=+u,c=i>0&&r[a][i]?r[a][i][1]:0;n(a).forEach(({neighbor:l,weight:d})=>{r[l]||(r[l]=[]);let h=c+d;(!r[l][i+1]||r[l][i+1][1]>h&&(r[l][i+1][1]/h>1.0001||a<r[l][i+1][0]))&&(r[l][i+1]=[a,h]),i<o-1&&l!==e&&(s[i+1]||(s[i+1]={}),s[i+1][l]=null)})});return r},Bt=(n,o,t)=>{let e=[t];for(let r=t,s=o;s>0;s-=1){let[i]=n[r][s];r=i,e.push(r)}return e.reverse()},Ht=(n,o,t,e)=>Bt(Nt(n,o,t,e),o,e),Ut=({photos:n,spacing:o,padding:t,targetColumnWidth:e,targetColumnHeight:r,instrumentation:s})=>i=>{let u=[],a=r*1.5,c=e/C(n[i])+2*t;for(let l=i+1;l<n.length+1&&(u.push({neighbor:l,weight:(r-c)**2}),!(c>a&&!s?.fullGraphSearch||l===n.length));l+=1)c+=e/C(n[l])+o+2*t;return u},$e=({path:n,photos:o,containerWidth:t,columnsGaps:e,columnsRatios:r,spacing:s,padding:i})=>{let u=[],a=r.reduce((c,l)=>c+l,0);for(let c=0;c<n.length-1;c+=1){let l=o.map((m,y)=>({photo:m,index:y})).slice(n[c],n[c+1]),d=r.reduce((m,y,p)=>m+(e[c]-e[p])*y,0),h=(t-(n.length-2)*s-2*(n.length-1)*i-d)*r[c]/a;u.push(l.map(({photo:m,index:y},p)=>({photo:m,layout:{width:h,height:h/C(m),index:y,photoIndex:p,photosCount:l.length}})))}return u},Ft=({photos:n,layoutOptions:o,targetColumnWidth:t,instrumentation:e})=>{var r;let{columns:s,spacing:i,padding:u,containerWidth:a}=o,c=[],l=[];if(n.length<=s){for(let f=0;f<n.length;f+=1)c[f]=2*u,l[f]=C(n[f]);let p=$e({path:Array.from({length:n.length+1}).map((f,v)=>v),photos:n,columnsRatios:l,columnsGaps:c,containerWidth:a,spacing:i,padding:u});for(let f=n.length;f<(((r=o.columnConstraints)===null||r===void 0?void 0:r.minColumns)||0);f+=1)c[f]=0,l[f]=n.length>0?n.reduce((v,E)=>v+C(E),0)/n.length:1,p[f]=[];return{columnsGaps:c,columnsRatios:l,columnsModel:p}}let d=(n.reduce((p,f)=>p+t/C(f),0)+i*(n.length-s)+2*u*n.length)/s,h=Ut({photos:n,targetColumnWidth:t,targetColumnHeight:d,spacing:i,padding:u,instrumentation:e}),m=Ht(h,s,0,n.length).map(p=>+p);for(let p=0;p<m.length-1;p+=1){let f=n.slice(m[p],m[p+1]);c[p]=i*(f.length-1)+2*u*f.length,l[p]=1/f.reduce((v,E)=>v+1/C(E),0)}let y=$e({path:m,photos:n,columnsRatios:l,columnsGaps:c,containerWidth:a,spacing:i,padding:u});return{columnsGaps:c,columnsRatios:l,columnsModel:y}},Re=n=>{let{photos:o,layoutOptions:t,instrumentation:e}=n,{columns:r,spacing:s,padding:i,containerWidth:u}=t,a=(u-s*(r-1)-2*i*r)/r,{columnsGaps:c,columnsRatios:l,columnsModel:d}=Ft({photos:o,layoutOptions:t,targetColumnWidth:a,instrumentation:e});return d.findIndex(h=>h.findIndex(({layout:{width:m,height:y}})=>m<0||y<0)>=0)>=0?r>1?Re({photos:o,layoutOptions:{...t,columns:r-1},instrumentation:e}):void 0:{columnsModel:d,columnsGaps:c,columnsRatios:l}},Wt=({photos:n,layoutOptions:o,instrumentation:t})=>{var e,r,s;(e=t?.onStartLayoutComputation)===null||e===void 0||e.call(t);let i=Re({photos:n,layoutOptions:{...o,columns:Math.min(o.columns,Math.max(n.length,((r=o.columnConstraints)===null||r===void 0?void 0:r.minColumns)||0))},instrumentation:t});return(s=t?.onFinishLayoutComputation)===null||s===void 0||s.call(t,i),i},Yt=({columnContainerProps:n,children:o})=>(0,g.jsx)("div",{...n,children:o}),Kt=n=>{let{layoutOptions:o,columnIndex:t,columnsCount:e,columnsGaps:r,columnsRatios:s}=n,{layout:i,spacing:u,padding:a}=o;if(i==="masonry"||!r||!s)return`calc((100% - ${u*(e-1)}px) / ${e})`;let c=s.reduce((d,h)=>d+h,0),l=s.reduce((d,h,m)=>d+(r[t]-r[m])*h,0);return`calc((100% - ${A((e-1)*u+2*e*a+l,3)}px) * ${A(s[t]/c,5)} + ${2*a}px)`},Le=n=>{let{layoutOptions:o,renderColumnContainer:t,children:e,columnContainerProps:{style:r,...s}={},...i}=n,u={className:"react-photo-album--column",style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:Kt(n),justifyContent:o.layout==="columns"?"space-between":"flex-start",...r},...s};return(0,g.jsx)(g.Fragment,{children:(t??Yt)({layoutOptions:o,columnContainerProps:u,children:e,...i})})},zt=n=>{let{photos:o,layoutOptions:t,renderPhoto:e,renderColumnContainer:r,componentsProps:s,instrumentation:i}=n,u=Wt({photos:o,layoutOptions:t,instrumentation:i});if(u===void 0)return(0,g.jsx)(g.Fragment,{});let{columnsModel:a,columnsRatios:c,columnsGaps:l}=u;return(0,g.jsx)(g.Fragment,{children:a.map((d,h)=>(0,g.jsx)(Le,{layoutOptions:t,columnIndex:h,columnsCount:a.length,columnsGaps:l,columnsRatios:c,renderColumnContainer:r,columnContainerProps:s?.columnContainerProps,children:d.map(({photo:m,layout:y})=>(0,g.jsx)(X,{photo:m,layout:y,layoutOptions:t,renderPhoto:e,imageProps:s?.imageProps},m.key||m.src))},`column-${h}`))})},ke=n=>{var o,t,e;let{photos:r,layoutOptions:s,instrumentation:i}=n,{spacing:u,padding:a,containerWidth:c}=s,l=Math.min(s.columns,Math.max(r.length,((o=s.columnConstraints)===null||o===void 0?void 0:o.minColumns)||0));(t=i?.onStartLayoutComputation)===null||t===void 0||t.call(i);let d=(c-u*(l-1)-2*a*l)/l;if(d<=0)return l>1?ke({...n,layoutOptions:{...s,columns:l-1}}):void 0;let h=[];for(let p=0;p<l;p+=1)h[p]=0;let y=r.reduce((p,f,v)=>{let E=h.reduce((P,k,B)=>k<h[P]-1?B:P,0);return h[E]=h[E]+d/C(f)+u+2*a,p[E].push({photo:f,index:v}),p},Array.from({length:l}).map(()=>[])).map(p=>p.map(({photo:f,index:v},E)=>({photo:f,layout:{width:d,height:d/C(f),index:v,photoIndex:E,photosCount:p.length}})));return(e=i?.onFinishLayoutComputation)===null||e===void 0||e.call(i,y),y},Gt=n=>{let{photos:o,layoutOptions:t,renderPhoto:e,renderColumnContainer:r,componentsProps:s,instrumentation:i}=n,u=ke({photos:o,layoutOptions:t,instrumentation:i});return u===void 0?(0,g.jsx)(g.Fragment,{}):(0,g.jsx)(g.Fragment,{children:u.map((a,c)=>(0,g.jsx)(Le,{layoutOptions:t,columnsCount:u.length,columnIndex:c,renderColumnContainer:r,columnContainerProps:s?.columnContainerProps,children:a.map(({photo:l,layout:d})=>(0,g.jsx)(X,{photo:l,layout:d,layoutOptions:t,renderPhoto:e,imageProps:s?.imageProps},l.key||l.src))},`masonry-column-${c}`))})},qt=({containerProps:n,children:o,containerRef:t})=>(0,g.jsx)("div",{ref:t,...n,children:o}),Vt=n=>{let{layoutOptions:o,renderContainer:t,children:e,containerRef:r,containerProps:{style:s,...i}={}}=n,{layout:u}=o,a={className:`react-photo-album react-photo-album--${u}`,style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:u==="rows"?"column":"row",...s},...i};return t&&typeof t=="object"?(0,g.jsx)(t,{ref:r,layoutOptions:o,containerProps:a,children:e}):(0,g.jsx)(g.Fragment,{children:(t??qt)({containerProps:a,containerRef:r,layoutOptions:o,children:e})})},je=typeof window<"u"?w.useLayoutEffect:w.useEffect,Pe=n=>{let o=(0,w.useRef)(n);return je(()=>{o.current=n}),(0,w.useCallback)((...t)=>{var e;return(e=o.current)===null||e===void 0?void 0:e.call(o,...t)},[])},Jt=(n,o)=>{let[t,e]=(0,w.useState)(),[r,s]=(0,w.useState)(),i=(0,w.useRef)(null),u=(0,w.useRef)(),a=Pe(()=>{var l;let d=(l=i.current)===null||l===void 0?void 0:l.clientWidth;if(d!==void 0&&o&&o.length>0){let m=[...o.filter(p=>p>0)].sort((p,f)=>f-p);m.push(Math.floor(m[m.length-1]/2));let y=d;d=m.find((p,f)=>p<=y||f===m.length-1)}let h=window.innerWidth-document.documentElement.clientWidth;h!==r&&s(h),!(t!==void 0&&r!==void 0&&d!==void 0&&d>t&&d-t<=20&&h<r)&&d!==t&&e(d)});return{containerRef:Pe(l=>{var d,h;(d=u.current)===null||d===void 0||d.disconnect(),u.current=void 0,i.current=l,a(),l&&(u.current=typeof ResizeObserver<"u"?new ResizeObserver(a):n?.(a),(h=u.current)===null||h===void 0||h.observe(l))}),containerWidth:t}},Xt=Object.freeze([1200,600,300,0]),De=(n,o)=>typeof n=="function"?n(o):n,J=(n,o)=>typeof n<"u"?De(n,o):void 0,Zt=(n,o)=>{let t=Xt.findIndex(e=>e<=o);return De(n[t>=0?t:0],o)},I=(n,o,t,e=0)=>{let r=J(n,o);return Math.round(Math.max(r===void 0?Zt(t,o):r,e))},Qt=({layout:n,onClick:o,viewportWidth:t,containerWidth:e,targetRowHeight:r,rowConstraints:s,columnConstraints:i,columns:u,spacing:a,padding:c,sizes:l})=>({layout:n,onClick:o,viewportWidth:t,containerWidth:e,columns:I(u,e,[5,4,3,2],1),spacing:I(a,e,[20,15,10,5]),padding:I(c,e,[0,0,0,0,0]),targetRowHeight:I(r,e,[d=>d/5,d=>d/4,d=>d/3,d=>d/2]),rowConstraints:J(s,e),columnConstraints:J(i,e),sizes:l}),en=(n,o)=>typeof n=="function"?n(o):n,Oe=n=>{let{photos:o,layout:t,renderPhoto:e,renderContainer:r,renderRowContainer:s,renderColumnContainer:i,defaultContainerWidth:u,resizeObserverProvider:a,breakpoints:c,instrumentation:l}=n,[d,h]=(0,w.useState)(!1),{containerRef:m,containerWidth:y}=Jt(a,c);if(je(()=>h(!0),[]),!t||!["rows","columns","masonry"].includes(t)||!Array.isArray(o))return(0,g.jsx)(g.Fragment,{});let p=Qt({containerWidth:d&&y||u||800,viewportWidth:d&&window.innerWidth||void 0,...n}),f=en(n.componentsProps,p.containerWidth),v={photos:o,renderPhoto:e,componentsProps:f,instrumentation:l};return(0,g.jsx)(Vt,{containerRef:m,layoutOptions:p,renderContainer:r,containerProps:f?.containerProps,children:t==="rows"?(0,g.jsx)(At,{layoutOptions:p,renderRowContainer:s,...v}):t==="columns"?(0,g.jsx)(zt,{layoutOptions:p,renderColumnContainer:i,...v}):(0,g.jsx)(Gt,{layoutOptions:p,renderColumnContainer:i,...v})})};var Be=x(Xe());var R=x($());var Z=function(n,o){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Z(n,o)};function tn(n,o){Z(n,o);function t(){this.constructor=n}n.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}var M=function(){return M=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s])}return o},M.apply(this,arguments)};function nn(n,o,t,e){var r,s=!1,i=0;function u(){r&&clearTimeout(r)}function a(){u(),s=!0}typeof o!="boolean"&&(e=t,t=o,o=void 0);function c(){var l=this,d=Date.now()-i,h=arguments;if(s)return;function m(){i=Date.now(),t.apply(l,h)}function y(){r=void 0}e&&!r&&m(),u(),e===void 0&&d>n?m():o!==!0&&(r=setTimeout(e?y:m,e===void 0?n-d:n))}return c.cancel=a,c}var L={Pixel:"Pixel",Percent:"Percent"},Me={unit:L.Percent,value:.8};function Ie(n){return typeof n=="number"?{unit:L.Percent,value:n*100}:typeof n=="string"?n.match(/^(\d*(\.\d+)?)px$/)?{unit:L.Pixel,value:parseFloat(n)}:n.match(/^(\d*(\.\d+)?)%$/)?{unit:L.Percent,value:parseFloat(n)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Me):(console.warn("scrollThreshold should be string or number"),Me)}var on=function(n){tn(o,n);function o(t){var e=n.call(this,t)||this;return e.lastScrollTop=0,e.actionTriggered=!1,e.startY=0,e.currentY=0,e.dragging=!1,e.maxPullDownDistance=0,e.getScrollableTarget=function(){return e.props.scrollableTarget instanceof HTMLElement?e.props.scrollableTarget:typeof e.props.scrollableTarget=="string"?document.getElementById(e.props.scrollableTarget):(e.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},e.onStart=function(r){e.lastScrollTop||(e.dragging=!0,r instanceof MouseEvent?e.startY=r.pageY:r instanceof TouchEvent&&(e.startY=r.touches[0].pageY),e.currentY=e.startY,e._infScroll&&(e._infScroll.style.willChange="transform",e._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},e.onMove=function(r){!e.dragging||(r instanceof MouseEvent?e.currentY=r.pageY:r instanceof TouchEvent&&(e.currentY=r.touches[0].pageY),!(e.currentY<e.startY)&&(e.currentY-e.startY>=Number(e.props.pullDownToRefreshThreshold)&&e.setState({pullToRefreshThresholdBreached:!0}),!(e.currentY-e.startY>e.maxPullDownDistance*1.5)&&e._infScroll&&(e._infScroll.style.overflow="visible",e._infScroll.style.transform="translate3d(0px, "+(e.currentY-e.startY)+"px, 0px)")))},e.onEnd=function(){e.startY=0,e.currentY=0,e.dragging=!1,e.state.pullToRefreshThresholdBreached&&(e.props.refreshFunction&&e.props.refreshFunction(),e.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){e._infScroll&&(e._infScroll.style.overflow="auto",e._infScroll.style.transform="none",e._infScroll.style.willChange="unset")})},e.onScrollListener=function(r){typeof e.props.onScroll=="function"&&setTimeout(function(){return e.props.onScroll&&e.props.onScroll(r)},0);var s=e.props.height||e._scrollableNode?r.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!e.actionTriggered){var i=e.props.inverse?e.isElementAtTop(s,e.props.scrollThreshold):e.isElementAtBottom(s,e.props.scrollThreshold);i&&e.props.hasMore&&(e.actionTriggered=!0,e.setState({showLoader:!0}),e.props.next&&e.props.next()),e.lastScrollTop=s.scrollTop}},e.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},e.throttledOnScrollListener=nn(150,e.onScrollListener).bind(e),e.onStart=e.onStart.bind(e),e.onMove=e.onMove.bind(e),e.onEnd=e.onEnd.bind(e),e}return o.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},o.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},o.prototype.componentDidUpdate=function(t){this.props.dataLength!==t.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},o.getDerivedStateFromProps=function(t,e){var r=t.dataLength!==e.prevDataLength;return r?M(M({},e),{prevDataLength:t.dataLength}):null},o.prototype.isElementAtTop=function(t,e){e===void 0&&(e=.8);var r=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,s=Ie(e);return s.unit===L.Pixel?t.scrollTop<=s.value+r-t.scrollHeight+1:t.scrollTop<=s.value/100+r-t.scrollHeight+1},o.prototype.isElementAtBottom=function(t,e){e===void 0&&(e=.8);var r=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,s=Ie(e);return s.unit===L.Pixel?t.scrollTop+r>=t.scrollHeight-s.value:t.scrollTop+r>=s.value/100*t.scrollHeight},o.prototype.render=function(){var t=this,e=M({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return R.default.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},R.default.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(i){return t._infScroll=i},style:e},this.props.pullDownToRefresh&&R.default.createElement("div",{style:{position:"relative"},ref:function(i){return t._pullDown=i}},R.default.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},o}(R.Component),Ae=on;var rn=T.div`
  overflow: hidden;
  background-origin: content-box;
  background-repeat: no-repeat;
  background-clip: border-box;
  background-size: cover;
  position: relative;
  outline: none !important;
  border: ${({studioTheme:n})=>`1px solid ${n.color.card.enabled.border}`};
  box-sizing: content-box;
  user-drag: none;

  &:hover {
    opacity: 0.85;
  }

  &:focus,
  &:active {
    border: 1px solid var(--input-border-color-focus);
    box-shadow: inset 0 0 0 3px var(--input-border-color-focus);
  }
`,sn=T.a`
  text-decoration: none;
  cursor: pointer;
`,an=T(W)`
  ${({theme:n})=>`
     --creditline-fg: ${n.sanity.color.card.enabled.fg};
     --creditline-bg: ${n.sanity.color.card.enabled.bg};
   `};
  user-drag: none;
  position: absolute;
  background-color: var(--creditline-bg);
  bottom: 0;

  [data-ui='Text'] {
    color: var(--creditline-fg);
  }
`,ln="sanity-plugin-asset-source-unsplash";function cn(n){let{onClick:o,data:t,onKeyDown:e,onFocus:r,active:s,width:i,height:u}=n,a=(0,S.useRef)(null),c=(0,S.useRef)(!1),l=(0,S.useCallback)(()=>{o(t)},[o,t]),d=(0,S.useCallback)(v=>{v.stopPropagation();let E=`${t.links.html}?utm_source=${encodeURIComponent(ln)}&utm_medium=referral`;window.open(E,t.id,"noreferrer,noopener")},[t]),h=(0,S.useCallback)(v=>{e(v),v.keyCode===13&&o(t)},[e,t,o]),m=(0,S.useCallback)(()=>{r(t)},[r,t]);(0,S.useEffect)(()=>{!c.current&&s&&a.current&&(a.current.focus(),r(t)),c.current=s},[s]);let y=t.urls.small,p=t.user.name,f=ce().sanity;return(0,b.jsx)(rn,{ref:a,studioTheme:f,title:`Select image by ${p} from Unsplash`,tabIndex:0,onKeyDown:h,onMouseDown:m,style:{width:`${i}px`,height:`${u}px`,backgroundImage:`url("${y}")`},onClick:l,children:(0,b.jsx)(sn,{onClick:d,children:(0,b.jsx)(an,{padding:2,radius:2,margin:2,children:(0,b.jsxs)(D,{size:1,title:`Open image by ${p} on Unsplash in new window`,children:["By @",t.user.username]})})})})}var un=(n,o,t,e)=>F(()=>n.observable.request({url:`/addons/unsplash/search/photos?query=${encodeURIComponent(o)}&page=${t}&per_page=${e}`,withCredentials:!0,method:"GET"})),dn=(n,o,t,e)=>F(()=>n.observable.request({url:`/addons/unsplash/photos?order_by=${o}&page=${t}&per_page=${e}`,withCredentials:!0,method:"GET"}));function pn(n,o){let t=o.links.download_location.replace("https://api.unsplash.com","/addons/unsplash");return n.request({url:t,withCredentials:!0,method:"GET"}).then(e=>e.url)}var hn=(n,o,t,e)=>oe(o.pipe(ie(t),re(500),H(),se(([r,s])=>r?un(n,r,s,e).pipe(H(),ne(i=>i.results)):dn(n,"popular",s,e)))),mn=T(Y)`
  position: sticky;
  top: 0;
  z-index: 1;
`,_r=T.div`
  overflow-y: auto;
  max-height: 80vh;
`,fn=42,Ne=2,gn=1;function yn(n){let o=z();return(0,b.jsx)(N,{...n,client:o})}var N=class extends S.default.Component{state={cursor:0,query:"",page:1,searchResults:[[]],isLoading:!0};searchSubscription=null;searchSubject$=new U("");pageSubject$=new U(1);componentDidMount(){this.searchSubscription=hn(this.props.client,this.searchSubject$,this.pageSubject$,fn).subscribe({next:o=>{this.setState(t=>({searchResults:[...t.searchResults,o],isLoading:!1}))}})}componentWillUnmount(){this.searchSubscription&&this.searchSubscription.unsubscribe()}handleSelect=o=>(this.setState({isLoading:!0}),pn(this.props.client,o).then(t=>{let e=o.description||void 0,r={kind:"url",value:t,assetDocumentProps:{_type:"sanity.imageAsset",source:{name:"unsplash",id:o.id,url:o.links.html},description:e,creditLine:`${o.user.name} by Unsplash`}};this.props.onSelect([r])}));handleClose=()=>{this.props.onClose()};handleSearchTermChanged=o=>{let t=o.currentTarget.value;this.setState({query:t,page:1,searchResults:[[]],isLoading:!0,cursor:0}),this.pageSubject$.next(1),this.searchSubject$.next(t)};handleScollerLoadMore=()=>{let o=this.state.page+1;this.setState({page:o,isLoading:!0}),this.pageSubject$.next(o),this.searchSubject$.next(this.state.query)};handleKeyDown=o=>{let{cursor:t}=this.state;(o.keyCode===38||o.keyCode===37)&&t>0?this.setState(e=>({cursor:e.cursor-1})):(o.keyCode===40||o.keyCode===39)&&t<this.getPhotos().length-1&&this.setState(e=>({cursor:e.cursor+1}))};getPhotos(){return(0,Be.default)(this.state.searchResults)}updateCursor=o=>{let t=this.getPhotos().findIndex(e=>e.id===o.id);this.setState({cursor:t})};renderImage=o=>{let{photo:t,layout:e}=o,r=this.getPhotos().findIndex(s=>s.id===t.data.id)===this.state.cursor||!1;return(0,b.jsx)(cn,{onClick:this.handleSelect.bind(t.data),onKeyDown:this.handleKeyDown,data:t.data,width:e.width,height:e.height,active:r,onFocus:this.updateCursor})};render(){let{query:o,searchResults:t,isLoading:e}=this.state;return(0,b.jsx)(he,{id:"unsplash-asset-source",header:"Select image from Unsplash",onClose:this.handleClose,open:!0,width:4,children:(0,b.jsxs)(Y,{space:3,padding:4,children:[(0,b.jsx)(W,{children:(0,b.jsxs)(mn,{space:3,children:[(0,b.jsx)(D,{size:1,weight:"semibold",children:"Search Unsplash"}),(0,b.jsx)(pe,{label:"Search Unsplash.com",placeholder:"Topics or colors",value:o,onChange:this.handleSearchTermChanged})]})}),!e&&this.getPhotos().length===0&&(0,b.jsx)(D,{size:1,muted:!0,children:"No results found"}),(0,b.jsx)(Ae,{dataLength:this.getPhotos().length,next:this.handleScollerLoadMore,hasMore:!0,scrollThreshold:.99,height:"60vh",loader:(0,b.jsx)(ue,{align:"center",justify:"center",padding:3,children:(0,b.jsx)(de,{muted:!0})}),endMessage:(0,b.jsx)(D,{size:1,muted:!0,children:"No more results"}),children:t.filter(r=>r.length>0).map((r,s)=>(0,b.jsx)(Oe,{layout:"rows",spacing:Ne,padding:gn,targetRowHeight:i=>i<300?150:i<600?200:300,photos:r.map(i=>({src:i.urls.small,width:i.width,height:i.height,key:i.id,data:i})),renderPhoto:this.renderImage,componentsProps:{containerProps:{style:{marginBottom:`${Ne}px`}}}},`gallery-${o||"popular"}-${s}`))})]})})}};ee(N,"defaultProps",{selectedAssets:void 0});var vn=T.svg`
  transform: scale(0.8);
`;function bn(){return(0,b.jsxs)(vn,{role:"img",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",children:[(0,b.jsx)("title",{}),(0,b.jsx)("path",{d:"M7.5 6.75V0h9v6.75h-9zm9 3.75H24V24H0V10.5h7.5v6.75h9V10.5z"})]})}var En={name:"unsplash",title:"Unsplash",component:yn,icon:bn},He=j({name:"asset-source-unsplash-plugin",form:{image:{assetSources:n=>[...n,En]}}});var Ue={name:"author",title:"Author",type:"document",fields:[{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96}},{name:"image",title:"Image",type:"image",options:{hotspot:!0}},{name:"bio",title:"Bio",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"}],lists:[]}]}],preview:{select:{title:"name",media:"image"}}};var Fe={title:"Block Content",name:"blockContent",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}},{type:"image",options:{hotspot:!0}}]};var We={name:"category",title:"Category",type:"document",fields:[{name:"title",title:"Title",type:"string"},{name:"description",title:"Description",type:"text"}]};var Ye={name:"post",title:"Post",type:"document",fields:[{name:"title",title:"Title",type:"string"},{name:"url",title:"URL/Source",type:"url"},{name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}},{name:"author",title:"Author",type:"reference",to:{type:"author"}},{name:"mainImage",title:"Main image",type:"image",options:{hotspot:!0}},{name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]},{name:"publishedAt",title:"Published at",type:"datetime"},{name:"body",title:"Body",type:"blockContent"}],preview:{select:{title:"title",url:"url",author:"author.name",media:"mainImage"},prepare(n){let{author:o,url:t}=n;return{...n,subtitle:t||o&&`by ${o}`}}}};var Ke=[Ye,Ue,We,Fe];var ze=({projectId:n,dataset:o,title:t,basePath:e,...r})=>({projectId:n,dataset:o,title:t,basePath:e,...r,plugins:[G(),He()],schema:{types:Ke}});function zr(n,o){if(!n)throw new Error("Missing root element to mount application into");return(0,qe.render)((0,Ge.createElement)(K,{config:ze(o),unstable_history:te(),unstable_noAuthBoundary:!0}),n)}export{zr as createStudio};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=blog.js.map
